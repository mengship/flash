
CREATE TABLE `attendance_data_v2` (
  `staff_info_id` bigint NOT NULL DEFAULT '0' COMMENT '员工ID',
  `stat_date` date COMMENT '统计日期',
  `attendance_time` tinyint NOT NULL DEFAULT '0' COMMENT '有效出勤时间 (0 缺勤 5:出勤半天 10:出勤全天)',
  `display_data` varchar COMMENT '页面展示的数据',
  `display_data_detail` varchar COMMENT '页面显示的数据详情',
  `attendance_started_at` datetime COMMENT '上班打卡时间',
  `attendance_end_at` datetime COMMENT '下班打卡时间',
  `leave_time_type` smallint NOT NULL DEFAULT '0' COMMENT '(1:上午半天假 2:下午半天假，3:全天请假)',
  `lh_valid` tinyint NOT NULL DEFAULT '0' COMMENT 'LH是否有效(0:无效 1:有效)',
  `is_trial` tinyint NOT NULL DEFAULT '0' COMMENT '是否过了试用期 0:未过试用期 1:正式员工',
  `AL` tinyint NOT NULL DEFAULT '0' COMMENT '年假 ',
  `SL` tinyint NOT NULL DEFAULT '0' COMMENT '病假',
  `PL` tinyint NOT NULL DEFAULT '0' COMMENT '带薪事假',
  `OFF` tinyint NOT NULL DEFAULT '0' COMMENT '调休或休息日',
  `LW` tinyint NOT NULL DEFAULT '0' COMMENT '不带薪假期',
  `AB` tinyint NOT NULL DEFAULT '0' COMMENT '缺勤日期',
  `PH` tinyint NOT NULL DEFAULT '0' COMMENT '公休日起',
  `times1` smallint NOT NULL DEFAULT '0' COMMENT '1倍加班时长',
  `times1_5` smallint NOT NULL DEFAULT '0' COMMENT '1.5倍加班时长',
  `times3` smallint NOT NULL DEFAULT '0' COMMENT '3倍加班时长',
  `operator_count` int NOT NULL DEFAULT '0' COMMENT '员工业务操作量',
  `pickup_count` int NOT NULL DEFAULT '0' COMMENT '员工日揽件量',
  `delivery_count` int NOT NULL DEFAULT '0' COMMENT '员工日派件量',
  `leave_type` varchar DEFAULT '' COMMENT '请假类型',
  `CT` tinyint NOT NULL DEFAULT '0' COMMENT '公司培训假',
  `BT` tinyint NOT NULL DEFAULT '0' COMMENT '出差',
  `shift_start` varchar COMMENT '班次开始时间',
  `shift_end` varchar COMMENT '班次结束时间',
  `lh_date` date COMMENT 'lh日期',
  `lh_time` varchar DEFAULT '' COMMENT 'lh时间',
  `lh_plate_number` varchar DEFAULT '' COMMENT '',
  `job_title` int COMMENT '员工当日的job_title',
  `USL` tinyint NOT NULL DEFAULT '0' COMMENT '无薪病假',
  `sys_department_id` int COMMENT '员工当日部门信息',
  `sys_store_id` varchar COMMENT '员工当日网点',
  `other_UL` tinyint NOT NULL DEFAULT '0' COMMENT '不带薪产假',
  `BT_Y` tinyint DEFAULT '0' COMMENT '黄牌出差',
  `C19SL` tinyint DEFAULT '0' COMMENT '带薪病假(新冠治疗)',
  `ISL` tinyint DEFAULT '0' COMMENT '隔离假',
  `BT_FEEDER_A` tinyint DEFAULT '0' COMMENT 'Feeder A 出差',
  `logic_enum` varchar DEFAULT '' COMMENT '逻辑标识',
  `node_department_id` int COMMENT '员工当日所属部门信息',
  `state` smallint DEFAULT '1' COMMENT '员工状态 1 在职 2 离职 3 停职',
  PRIMARY KEY (`staff_info_id`,`stat_date`)
) DISTRIBUTE BY HASH(`staff_info_id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';


CREATE TABLE `hr_overtime` (
  `overtime_id` bigint NOT NULL AUTO_INCREMENT COMMENT '加班id',
  `serial_no` varchar COMMENT '序列号',
  `staff_id` int COMMENT '员工id',
  `type` int COMMENT '加班类型1=工作日，2=节假日加班，3=晚班 4-节假日正常上班',
  `start_time` datetime COMMENT '开始时间',
  `end_time` datetime COMMENT '结束时间',
  `reason` varchar COMMENT '原因',
  `state` int COMMENT '状态：1=待审批，2=已同意，3=驳回 4=撤销',
  `higher_staff_id` varchar DEFAULT '0' COMMENT '上级id',
  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP,
  `duration` decimal(4, 2) COMMENT '时长',
  `reject_reason` varchar COMMENT '驳回原因',
  `is_push` int DEFAULT '0' COMMENT '是否推送，默认0=未推送，1=已推送',
  `is_anticipate` tinyint NOT NULL DEFAULT '1' COMMENT '0- 非预申请（后补申请） 1- 预申请',
  `date_at` date COMMENT '申请日期',
  `sub_type` tinyint DEFAULT '0' COMMENT '0-默认 1--1倍日薪 2--1.5倍日薪 3--3倍日薪 4--可调休',
  `wf_role` varchar COMMENT '审批流rolename',
  `references` varchar COMMENT '参考数据',
  `is_delay` tinyint DEFAULT '0' COMMENT '是否延时审批 1是 0 否',
  `approver_id` bigint COMMENT '审批人',
  `approver_name` varchar COMMENT '审批人名称',
  `time_type` tinyint DEFAULT '0' COMMENT '多班次打卡 默认0 没用到 1 前半天 2 后半天 3 全天',
  `detail_data` varchar DEFAULT '' COMMENT '详情页展示数据用',
  `salary_state` tinyint DEFAULT '0' COMMENT '薪酬计算规则是否符合条件 关联',
  PRIMARY KEY (`overtime_id`)
) DISTRIBUTE BY HASH(`overtime_id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}'



############################################################################################################# wms_production #############################################################################################################
# wms_production
CREATE TABLE `delivery_order` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `delivery_sn` varchar NOT NULL DEFAULT '' COMMENT '发货单号',
  `order_sn` varchar DEFAULT '' COMMENT '外部单号',
  `third_id` varchar NOT NULL DEFAULT '' COMMENT '第三方ID',
  `platform_source_id` int DEFAULT '0' COMMENT '平台店铺ID(seller_platform_source主键)',
  `platform_source_user` varchar NOT NULL DEFAULT '' COMMENT '店铺用户ID',
  `platform_source_email` varchar NOT NULL DEFAULT '' COMMENT '店铺用户Email',
  `order_source_type` tinyint NOT NULL DEFAULT '1' COMMENT '[1]人工录入 [2]批量导入 [3]接口获取 [4]自动生成',
  `order_source_id` int COMMENT '订单来源',
  `order_source_sn` varchar NOT NULL DEFAULT '' COMMENT '来源单号',
  `warehouse_id` int COMMENT '仓库主键ID',
  `is_smart` tinyint NOT NULL DEFAULT '1' COMMENT '[0]货主分仓 [1]智能分仓',
  `open_smart` tinyint NOT NULL DEFAULT '0' COMMENT '[0]正常 [1]关闭智能分仓 [2]开启智能分仓',
  `is_replace_goods` smallint NOT NULL DEFAULT '0' COMMENT '是否已整单商品替换',
  `smart_audit` tinyint NOT NULL DEFAULT '0' COMMENT '[0]未智能审单 [1]已智能审单',
  `seller_id` int NOT NULL COMMENT '货主主键ID',
  `salesman` int NOT NULL DEFAULT '0' COMMENT '业务员ID',
  `prompt_urgent` tinyint NOT NULL DEFAULT '0' COMMENT '是否加急',
  `system_short` tinyint NOT NULL DEFAULT '0' COMMENT '系统报缺提示状态1系统报缺 2 待补货 3 待上架',
  `manual_short` tinyint NOT NULL DEFAULT '0' COMMENT '0没有标记人工报缺  1 标记人工报缺',
  `seller_goods_id` int COMMENT '商品主键ID',
  `pack_order_id` int COMMENT '打包单主键Id',
  `auditor_id` int COMMENT '审核人ID',
  `status` int NOT NULL COMMENT '订单状态', # 2005 分配库存失败 库里有货，只是拣货区没有货，1010 '缺货' 库里没有货
  `other_warehouse_status` tinyint DEFAULT '0' COMMENT '[0]未下发 [1]已下发 [2]下发失败(新增) [3]下发失败(修改) [10]待拣选 [20]拣选中 [30]拣选完成 [40]打包中 [50]待复核 [60]复核中 [70]复核完成 [80]打包完成',
  `is_presale` tinyint NOT NULL DEFAULT '0' COMMENT '是否是预售订单 默认为0，1是预售订单',
  `prompt` tinyint NOT NULL DEFAULT '0' COMMENT '[1]撤回等待 [2]生成拦截归位单 [3]生成上架单(拦截成功) [4]拦截未成功',
  `times` smallint NOT NULL DEFAULT '1' COMMENT '默认第1次，每次撤回到待审核状态时加1',
  `back_type` int NOT NULL DEFAULT '0' COMMENT '撤回类型',
  `back_text` varchar COMMENT '撤回文本',
  `type` tinyint NOT NULL DEFAULT '1' COMMENT '订单类型 [1]销售订单 [2]补货订单 [3]换货订单',
  `container_id` int COMMENT '包装箱主键ID',
  `length` int DEFAULT '0' COMMENT '长(单位:mm)',
  `width` int DEFAULT '0' COMMENT '宽(单位:mm)',
  `height` int DEFAULT '0' COMMENT '高(单位:mm)',
  `volume` varchar DEFAULT '' COMMENT '体积(单位:mm³)',
  `total_weight` int NOT NULL DEFAULT '0' COMMENT '总重量(单位:克)',
  `printable` tinyint NOT NULL DEFAULT '0' COMMENT '可打印发货单状态',
  `is_prepack` tinyint NOT NULL DEFAULT '0' COMMENT '预包装',
  `prepacker` int COMMENT '预打包人',
  `pack_time` datetime COMMENT '打包时间',
  `express_code` varchar NOT NULL DEFAULT '' COMMENT '事先确定的物流公司CODE',
  `logistic_company_id` int COMMENT '物流公司ID',
  `express_name` varchar NOT NULL DEFAULT '' COMMENT '快递公司名称',
  `own_express` tinyint NOT NULL DEFAULT '0' COMMENT '[0]通用快递 [1]自己快递',
  `distribution` varchar NOT NULL DEFAULT 'express' COMMENT '配送方式',
  `pre_express` tinyint NOT NULL DEFAULT '0' COMMENT '是否事先确定的快递单号',
  `express_sn` varchar COMMENT '快递单号',
  `multi_express` tinyint NOT NULL DEFAULT '0' COMMENT '[1]多运单号 [2]忽略多运单',
  `rts_express_sn` varchar NOT NULL DEFAULT '' COMMENT '设置RTS时的运单号',
  `rts_shipment_provider` varchar NOT NULL DEFAULT '' COMMENT 'RTS承运商',
  `replenishment` tinyint NOT NULL DEFAULT '0' COMMENT '[1]是否已自动补货',
  `rts_status` tinyint NOT NULL DEFAULT '0' COMMENT '[1]已设置RTS',
  `express_type` tinyint NOT NULL DEFAULT '1' COMMENT '获取快递类型',
  `routes_status` tinyint NOT NULL DEFAULT '10' COMMENT '第三方物流状态 [10]创建',
  `invoice_required` tinyint NOT NULL DEFAULT '0' COMMENT '是否需要发票',
  `tax_code` varchar NOT NULL DEFAULT '' COMMENT '发票编码',
  `branch_number` varchar NOT NULL DEFAULT '' COMMENT '开票人代码',
  `tax_invoice_requested` tinyint NOT NULL DEFAULT '0' COMMENT '是否需要发票tax',
  `invoice_info` varchar NOT NULL DEFAULT '[]' COMMENT '发票信息',
  `consignee_name` varchar NOT NULL DEFAULT '' COMMENT '收货人',
  `countries` varchar NOT NULL DEFAULT 'th' COMMENT '国家',
  `province` varchar NOT NULL DEFAULT '' COMMENT '省',
  `city` varchar NOT NULL DEFAULT '' COMMENT '市',
  `district` varchar NOT NULL DEFAULT '' COMMENT '区',
  `code` varchar NOT NULL DEFAULT '' COMMENT '编号',
  `postal_code` varchar NOT NULL DEFAULT '' COMMENT '邮编',
  `consignee_address` varchar NOT NULL DEFAULT '' COMMENT '详细地址',
  `phone_number` varchar NOT NULL DEFAULT '' COMMENT '电话号码',
  `comment` varchar DEFAULT '' COMMENT '留言',
  `buyer_message` varchar DEFAULT '' COMMENT '买家留言',
  `is_export` tinyint NOT NULL DEFAULT '0' COMMENT '已导出',
  `delivery_print_id` int COMMENT '发货单打印人ID',
  `delivery_print_time` datetime COMMENT '发货单打印日期',
  `print_id` int COMMENT '制单人ID',
  `is_printed` tinyint NOT NULL DEFAULT '0' COMMENT '已打印快递面单',
  `print_time` datetime COMMENT '打印日期',
  `show_price` tinyint NOT NULL DEFAULT '1' COMMENT '[0]不印价格 [1]打印价格',
  `total_price` decimal(20, 0) NOT NULL DEFAULT '0' COMMENT '总价格',
  `cod_amount` bigint NOT NULL DEFAULT '0' COMMENT 'COD金额(单位:萨当)',
  `order_discount_total_money` bigint NOT NULL DEFAULT '0' COMMENT '整单优惠金额',
  `goods_discount_total_money` bigint NOT NULL DEFAULT '0' COMMENT '商品优惠总金额',
  `packing_charge` bigint COMMENT '包装费',
  `logistic_charge` bigint COMMENT '运费',
  `insure_declare_value` int NOT NULL DEFAULT '0' COMMENT '保价金额',
  `hot` varchar COMMENT 'ABC分类',
  `repository_id` int COMMENT '库区ID',
  `heteromorphism` tinyint NOT NULL DEFAULT '0' COMMENT '是否异形 [0]否 [1]是',
  `max_kinds` bigint NOT NULL DEFAULT '1' COMMENT '单品最大购买数量',
  `combo_kinds_num` int NOT NULL DEFAULT '0' COMMENT '套装品种数量',
  `combo_goods_num` bigint NOT NULL DEFAULT '0' COMMENT '套装商品数量',
  `kinds_num` int NOT NULL DEFAULT '0' COMMENT '品种数量',
  `goods_num` bigint NOT NULL DEFAULT '0' COMMENT '商品数量',
  `cancel_id` int NOT NULL DEFAULT '0' COMMENT '取消原因ID',
  `cancel_reason` varchar NOT NULL DEFAULT '' COMMENT '取消原因',
  `split_merge` varchar COMMENT '拆分合并信息',
  `is_split_merge` tinyint NOT NULL DEFAULT '0' COMMENT '[1]拆分 [2]合并 [3]拆分合并',
  `is_cancel` tinyint NOT NULL DEFAULT '0' COMMENT '是否取消',
  `is_update` tinyint NOT NULL DEFAULT '0' COMMENT '[0]没修改 [1]有修改',
  `master_order` tinyint NOT NULL DEFAULT '1' COMMENT '是否主单',
  `auto_split` tinyint NOT NULL DEFAULT '0' COMMENT '[0]未自动拆分 [1]已自动拆分',
  `express_process` tinyint NOT NULL DEFAULT '0' COMMENT '[20]打包接口完成 [30]获取面单号码 [40]设置RTS成功 [50]设置发票成功 [60]获取发票文件',
  `express_error` tinyint NOT NULL DEFAULT '0' COMMENT '获取电子面单错误类型',
  `error_prompt` varchar NOT NULL DEFAULT '' COMMENT '失败提示信息',
  `sap_response` tinyint NOT NULL DEFAULT '0' COMMENT 'SAP请求结果',
  `sap_id` varchar DEFAULT '' COMMENT '最大单品重量(单位:g)',
  `sap_time` datetime COMMENT 'SAP成功时间',
  `sap_error` varchar NOT NULL DEFAULT '' COMMENT '推送SAP失败原因',
  `pay_status` int COMMENT '支付状态 [0]未支付 [1]已支付',
  `pay_mode` int COMMENT '支付方式 [1]货到付款  [2]银行转账 [3]在线支付',
  `buy_time` datetime COMMENT '下单时间',
  `payment_time` datetime COMMENT '付款时间',
  `out_province` tinyint NOT NULL DEFAULT '0' COMMENT '[0]省内 [1]省外',
  `in_remote` tinyint NOT NULL DEFAULT '0' COMMENT '[0]正常 [1]偏远',
  `distance` int NOT NULL DEFAULT '0' COMMENT '距离(单位:m)',
  `points_time` datetime COMMENT '分仓时间',
  `wait_verify` datetime COMMENT '等待审核时间',
  `audit_time` timestamp COMMENT '审核时间',
  `can_audit_time` datetime COMMENT '能智能审核的时间',
  `express_time` datetime COMMENT '获取电子面单时间',
  `allocation_stop` datetime COMMENT '分配库存停止时间',
  `allocation_time` datetime COMMENT '分配库存时间',
  `wave_time` datetime COMMENT '生成波次时间',
  `wait_pick` datetime COMMENT '等待拣货时间',
  `start_pick` datetime COMMENT '开始拣货时间',
  `succ_pick` datetime COMMENT '完成拣货时间',
  `picked_id` int NOT NULL DEFAULT '0' COMMENT '拣选完成人',
  `start_receipt` datetime COMMENT '开始交接',
  `operator_id` bigint NOT NULL DEFAULT '0' COMMENT '扫描运单号操作人id',
  `delivery_time` timestamp COMMENT '发货时间',
  `lanShou_time` datetime COMMENT '揽收时间',
  `delivery_out_id` int COMMENT '发货交接人',
  `confirm_time` timestamp COMMENT '完成时间',
  `virtual_dispatch_status` tinyint COMMENT '虚拟签收状态 [1] 第三方发货未签收 [2] 标记平台签收成功 [3] 标记平台签收失败',
  `creator_id` int COMMENT '创建人',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `region` varchar NOT NULL DEFAULT '' COMMENT '大区,用于计费',
  `platform_status` tinyint DEFAULT '0' COMMENT '平台订单状态 默认0 1待处理 2准备发货 3已发货 4已签收 5交付失败 6被快递丢失 7退货 8被快递损坏',
  `platform_status_raw` varchar DEFAULT '' COMMENT '订单状态 平台接口返回的原始状态',
  `out_time` datetime COMMENT '预计出库时间',
  `is_conso` smallint DEFAULT '0' COMMENT '是否天猫集运 0 否 1 是',
  `check` tinyint DEFAULT '0' COMMENT '[1]自动审核',
  `platform_package_id` varchar DEFAULT '' COMMENT '平台包裹id',
  `lanShou_time_last` datetime COMMENT '末端揽收时间',
  `delivery_type` smallint DEFAULT '0' COMMENT '下发仓库类型',
  `channel_source` varchar DEFAULT '' COMMENT '渠道来源',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}'

# wms_production
CREATE TABLE `delivery_order_goods` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `delivery_order_id` int NOT NULL COMMENT '发货单主键ID',
  `delivery_combo_id` int COMMENT '订单套装ID',
  `is_gift` int NOT NULL DEFAULT '0' COMMENT '是否赠品',
  `warehouse_id` int COMMENT '仓库ID',
  `seller_goods_id` int NOT NULL COMMENT '商品主键ID',
  `goods_number` int NOT NULL COMMENT '商品数量',
  `preoccupied_inventory` int NOT NULL DEFAULT '0' COMMENT '预占用数量',
  `lack_inventory` int NOT NULL DEFAULT '0' COMMENT '缺货数量',
  `max_lack_inventory` int NOT NULL DEFAULT '0' COMMENT '历史缺货数量',
  `lack_time` int COMMENT '缺货时间',
  `status` tinyint NOT NULL DEFAULT '0' COMMENT '[1]缺库存 [2]待补货',
  `goods_price` bigint DEFAULT '0' COMMENT '销售单价(单位:萨当)',
  `total_price` bigint DEFAULT '0' COMMENT '销售总价(单位:萨当)',
  `replenishment` tinyint NOT NULL DEFAULT '0' COMMENT '[1]是否已自动补货',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `seller_id` bigint DEFAULT '0' COMMENT '货主ID',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}'

# wms_production
CREATE TABLE `seller_goods` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `bar_code` varchar NOT NULL COMMENT '条形码',
  `two_bar_code` varchar NOT NULL DEFAULT '' COMMENT '二级条形码',
  `three_bar_code` varchar NOT NULL DEFAULT '' COMMENT '三级条形码',
  `goods_code` varchar NOT NULL DEFAULT '' COMMENT '商品货号',
  `order_source_type` tinyint NOT NULL DEFAULT '1' COMMENT '[1]人工录入 [2]批量导入 [3]接口获取',
  `order_source_id` int COMMENT '订单来源',
  `channel_source` varchar NOT NULL DEFAULT '' COMMENT '渠道来源',
  `encode_type` varchar NOT NULL COMMENT '',
  `sn_reg` varchar NOT NULL DEFAULT '' COMMENT 'SN码正则',
  `is_asset` tinyint NOT NULL DEFAULT '0' COMMENT '',
  `name` varchar NOT NULL COMMENT '商品名称',
  `abbr_name` varchar NOT NULL DEFAULT '' COMMENT '简称',
  `parent_one` int COMMENT '一级类目ID',
  `parent_two` int COMMENT '二级类目ID',
  `category_id` int COMMENT '类目ID',
  `brand_id` int COMMENT '品牌ID',
  `ent_category_pid` int COMMENT '企业类目父ID',
  `ent_category_id` int COMMENT '企业类目ID',
  `one_unit` int COMMENT '基础单位',
  `in_unit` varchar COMMENT '指定入库计费单位',
  `out_unit` varchar COMMENT '指定出库计费单位',
  `packing_unit` varchar COMMENT '商品带包装单位',
  `two_unit` int COMMENT '二级单位',
  `two_conversion` int COMMENT '二级单位转换',
  `three_unit` int COMMENT '三级单位',
  `three_conversion` int COMMENT '三级单位转换',
  `is_combo` tinyint NOT NULL DEFAULT '0' COMMENT '是否套装',
  `is_imei` tinyint NOT NULL DEFAULT '0' COMMENT '是否IMEI码',
  `hot` varchar NOT NULL DEFAULT '' COMMENT 'ABC分类',
  `length` int COMMENT '长(单位:mm)',
  `width` int COMMENT '宽(单位:mm)',
  `height` int COMMENT '高(单位:mm)',
  `volume` varchar DEFAULT '' COMMENT '体积(单位:mm³)',
  `weight` int COMMENT '重(单位:g)',
  `prepack_weight` int COMMENT '预打包重量(单位:g)',
  `logistic_require` varchar NOT NULL DEFAULT '[]' COMMENT '特殊商品属性',
  `store_type` varchar DEFAULT 'full' COMMENT '存储规则',
  `image` varchar NOT NULL DEFAULT '' COMMENT '图片',
  `price` bigint DEFAULT '0' COMMENT '统一售价(单位:萨当)',
  `cost_price` bigint DEFAULT '0' COMMENT '成本价(单位:萨当)',
  `specification` varchar NOT NULL DEFAULT '' COMMENT '规格',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `is_valuable` tinyint NOT NULL DEFAULT '0' COMMENT '[0]不是贵重物品 [1]是贵重物品',
  `is_locked` tinyint NOT NULL DEFAULT '0' COMMENT '[0]未新品维护 [1]已新品维护',
  `is_shelf_life` tinyint NOT NULL DEFAULT '0' COMMENT '[0]非保质期商品 [1]是保质期商品',
  `shelf_life_day` int COMMENT '保质期天数',
  `shelf_life_warning` int COMMENT '临期预警天数',
  `shelf_life_lock_up` int DEFAULT '0' COMMENT '临期禁售天数',
  `is_unpacked_delivery` tinyint NOT NULL DEFAULT '0' COMMENT '是否可不包装直接发货',
  `introduction` varchar NOT NULL DEFAULT '' COMMENT '商品简介',
  `replenishment_batch_num` int DEFAULT '0' COMMENT '商品补货批量',
  `thirty_sales_num` int NOT NULL DEFAULT '0' COMMENT '30天销售量',
  `status` tinyint NOT NULL DEFAULT '2' COMMENT '[0]删除 [1]停用 [2]存盘 [3]启用',
  `is_mix` tinyint NOT NULL DEFAULT '0' COMMENT '是否商品结构母件',
  `mix_status` tinyint NOT NULL DEFAULT '0' COMMENT '商品结构状态 2存盘 3启用 1停用 0删除',
  `mix_creater` int NOT NULL DEFAULT '0' COMMENT '商品结构创建人',
  `mix_created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '商品结构创建时间',
  `created_name` varchar NOT NULL DEFAULT '' COMMENT '创建人',
  `modified_name` varchar NOT NULL DEFAULT '' COMMENT '最后修改人',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `rollback_mark` tinyint NOT NULL DEFAULT '0' COMMENT '是否退件入仓 默认否',
  `review_status` int DEFAULT '1' COMMENT '商品复核状态 1 未复核 2 已复核',
  `is_default_container` smallint NOT NULL DEFAULT '1' COMMENT '是否维护了默认包材 默认1 没有  2 有',
  `self_pack_code` smallint NOT NULL DEFAULT '0' COMMENT '是否启用自带包材0 未启用 1启用 默认不启用',
  `check_status` tinyint DEFAULT '0' COMMENT '0 未核对, 10 执行中(核对中), 20 待审核, 30 驳回, 40 已审核',
  `one_unit_is_packed` tinyint DEFAULT '2' COMMENT '一级单位是否自带包装。【1】自带包装【2】不自带',
  `reserve_bar_code` varchar DEFAULT '' COMMENT '备用条码',
  `one_unit_category_id` int DEFAULT '0' COMMENT '仓储分类id 数据字典SC01 对应的明细ID',
  `goods_shape` tinyint DEFAULT '1' COMMENT '【1】标准立方体【2】近似立方体【3】三角【4】可折叠【5】可叠套【6】可压缩【7】不可折叠',
  `two_unit_is_packed` tinyint DEFAULT '2' COMMENT '二级单位是否自带包装。【1】自带包装【2】不自带',
  `two_unit_length` int DEFAULT '0' COMMENT '长(单位：mm)',
  `two_unit_width` int DEFAULT '0' COMMENT '宽(单位：mm)',
  `two_unit_height` int DEFAULT '0' COMMENT '高(单位：mm)',
  `two_unit_volume` varchar DEFAULT '0' COMMENT '二级单位体积,单位mm³',
  `two_unit_weight` int DEFAULT '0' COMMENT '重量(单位：g)',
  `three_unit_is_packed` tinyint DEFAULT '2' COMMENT '二级单位是否自带包装。【1】自带包装【2】不自带',
  `three_unit_length` int DEFAULT '0' COMMENT '长(单位：mm)',
  `three_unit_width` int DEFAULT '0' COMMENT '宽(单位：mm)',
  `three_unit_height` int DEFAULT '0' COMMENT '高(单位：mm)',
  `three_unit_volume` varchar DEFAULT '0' COMMENT '三级单位体积,单位mm³',
  `three_unit_weight` int DEFAULT '0' COMMENT '重量(单位：g)',
  `is_belong_container` varchar DEFAULT 'n' COMMENT '是否属于包材: y(是),n(否)',
  `charging_type` tinyint DEFAULT '1' COMMENT '特殊商品计费属性 1 标准 2 折扣 3 高价',
  `is_exist_code` smallint DEFAULT '3' COMMENT '是否存在条码[2]否 [3]是',
  `shelf_life_type` smallint DEFAULT '1' COMMENT '保质期数类型1日，2月，3年',
  `multi_weight` tinyint DEFAULT '0' COMMENT '是否存在多个重量',
  `declared_value` bigint DEFAULT '0' COMMENT '声明价值',
  `spu_id` bigint DEFAULT '0' COMMENT '商品品类ID 默认0',
  `lwh_image` varchar COMMENT '长宽高图片',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}'

# wms_production
CREATE TABLE `return_warehouse` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `seller_id` int NOT NULL COMMENT '货主主键ID',
  `return_warehouse_sn` varchar NOT NULL DEFAULT '' COMMENT '出库通知单号',
  `order_sn` varchar NOT NULL DEFAULT '' COMMENT '外部单号',
  `order_source` tinyint NOT NULL DEFAULT '1' COMMENT '[1]人工录入 [2]批量导入 [3]接口获取 [4]自动生成',
  `channel_source` varchar NOT NULL DEFAULT '' COMMENT '渠道来源',
  `status` int NOT NULL DEFAULT '10' COMMENT '出库通知单状态 0 已作废  10 待审核  20 已审核/等待出库 30 出库中 40 已出库 50已完成',
  `other_warehouse_status` tinyint DEFAULT '0' COMMENT '[0]未下发 [1]已下发 [2]下发失败(新增) [3]下发失败(修改) [10]待拣选 [20]拣选中 [30]拣选完成 [40]打包中 [50]待复核 [60]复核中 [70]复核完成 [80]打包完成',
  `type` tinyint NOT NULL DEFAULT '1' COMMENT '出库类型 [1] 退供出库[2]调拨出库',
  `delivery_way` varchar DEFAULT 'logistics' COMMENT '配送方式  物流 logistics 快递express  到仓自取self',
  `out_time` date COMMENT '期望出库时间',
  `seller_address_id` bigint DEFAULT '0' COMMENT '货主地址ID',
  `node_sn` varchar NOT NULL DEFAULT '' COMMENT '网点编号',
  `consignee_name` varchar NOT NULL DEFAULT '' COMMENT '收货人',
  `consignee_phone` varchar NOT NULL COMMENT '收货人电话号码',
  `warehouse_id` int COMMENT '仓库主键ID',
  `country_id` int NOT NULL DEFAULT '1' COMMENT '国家ID',
  `province` varchar NOT NULL DEFAULT '' COMMENT '省',
  `city` varchar NOT NULL DEFAULT '' COMMENT '市',
  `district` varchar NOT NULL DEFAULT '' COMMENT '区',
  `code` varchar NOT NULL DEFAULT '' COMMENT '编号',
  `postal_code` varchar NOT NULL DEFAULT '' COMMENT '邮编',
  `consignee_address` varchar NOT NULL COMMENT '详细地址',
  `out_province` tinyint NOT NULL DEFAULT '0' COMMENT '[0]省内 [1]省外',
  `in_remote` tinyint NOT NULL DEFAULT '0' COMMENT '[0]正常 [1]偏远',
  `logistic_company_id` int COMMENT '承运商ID',
  `own_express` tinyint NOT NULL DEFAULT '0' COMMENT '[0]通用快递 [1]自己快递',
  `express_sn` varchar NOT NULL DEFAULT '' COMMENT '快递单号',
  `express_is_print` tinyint NOT NULL DEFAULT '3' COMMENT '[1]未打印 [2]已打印 [3]空',
  `express_print_time` timestamp COMMENT '面单打印时间',
  `goods_status` varchar DEFAULT 'normal' COMMENT ' normal 正品 bad 残品',
  `remark` varchar DEFAULT '' COMMENT '留言',
  `prompt_urgent` tinyint NOT NULL DEFAULT '0' COMMENT '是否加急',
  `prompt_routes` tinyint NOT NULL DEFAULT '0' COMMENT '交接完成提示 1：交接完成',
  `back_type` int NOT NULL DEFAULT '0' COMMENT '撤回类型',
  `back_text` varchar COMMENT '撤回文本',
  `system_short` tinyint NOT NULL DEFAULT '0' COMMENT '系统报缺提示',
  `create_user` int COMMENT '',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `department_id` int NOT NULL DEFAULT '0' COMMENT '添加人的一级部门ID（开启库存锁定才有值）',
  `verify_user` int COMMENT '审核人ID',
  `verify_time` timestamp COMMENT '审核时间',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `transfer_bill_id` int NOT NULL DEFAULT '0' COMMENT '调拨单ID',
  `kind_num` int DEFAULT '0' COMMENT '',
  `goods_num` int DEFAULT '0' COMMENT '',
  `total_kind_num` int DEFAULT '0' COMMENT '单品总品种数',
  `total_goods_num` int DEFAULT '0' COMMENT '单品总商品数',
  `money` bigint DEFAULT '0' COMMENT '',
  `out_warehouse_time` timestamp COMMENT '出库时间',
  `out_warehouse_id` int COMMENT '出库确认人',
  `unloading_party` varchar COMMENT '出库装货方',
  `is_print` tinyint DEFAULT '0' COMMENT '是否打印',
  `print_time` timestamp COMMENT '出库单的拣货单打印时间',
  `print_id` int COMMENT '打印人',
  `sap_response` tinyint NOT NULL DEFAULT '0' COMMENT 'SAP请求结果',
  `sap_id` varchar NOT NULL DEFAULT '' COMMENT 'SAP成功ID',
  `sap_time` datetime COMMENT 'SAP成功时间',
  `sap_error` varchar NOT NULL DEFAULT '' COMMENT '推送SAP失败原因',
  `pack_time` timestamp COMMENT '打包时间',
  `last_packer` int NOT NULL DEFAULT '0' COMMENT '最后一个打包人',
  `allocation_stop` datetime COMMENT '分配库存停止时间',
  `allocation_time` datetime COMMENT '分配库存时间',
  `confirmed_time` datetime COMMENT '确认时间',
  `picking_time` datetime COMMENT '拣货开始时间',
  `picking_end_time` datetime COMMENT '出库单拣货完成时间',
  `picked_id` int NOT NULL DEFAULT '0' COMMENT '拣选完成人',
  `complete_id` int COMMENT '完成人',
  `complete_time` datetime COMMENT '完成时间',
  `is_split_merge` smallint NOT NULL DEFAULT '0' COMMENT '拆分合并标识,1:拆分 2:合并 3:拆分合并',
  `prompt` tinyint NOT NULL DEFAULT '0' COMMENT '[1]撤回等待 [2]生成拦截归位单 [3]生成上架单(拦截成功) [4]拦截未成功',
  `region` varchar NOT NULL DEFAULT '' COMMENT '大区,用于计费',
  `out_warehouse_type` tinyint DEFAULT '1' COMMENT '出库类型 1 普通出库 2 退仓出库',
  `is_analysis_merge` smallint DEFAULT '0' COMMENT '是否有过加入分析汇总拣货单0没有 1有过',
  `biz_ext` varchar DEFAULT '' COMMENT '外部业务自定义扩展内容',
  `is_cab` smallint DEFAULT '0' COMMENT '是否货柜卸货0否 1是',
  `cab_size` varchar DEFAULT '' COMMENT '货柜尺寸json',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production
CREATE TABLE `operation_log` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `seller_id` int NOT NULL DEFAULT '0' COMMENT '货主ID',
  `warehouse_id` int NOT NULL DEFAULT '0' COMMENT '仓库ID',
  `order_type` varchar NOT NULL DEFAULT '' COMMENT '单据类型',
  `order_sn` varchar NOT NULL DEFAULT '' COMMENT '单号',
  `order_id` int NOT NULL DEFAULT '0' COMMENT '单据关联ID',
  `operation` varchar NOT NULL DEFAULT '' COMMENT '操作',
  `type` varchar NOT NULL DEFAULT 'manual' COMMENT '[manual]人工 [system]系统',
  `description` varchar COMMENT '描述',
  `status_before` int NOT NULL DEFAULT '0' COMMENT '操作前状态',
  `status_after` int NOT NULL DEFAULT '0' COMMENT '操作后状态',
  `operation_id` int NOT NULL COMMENT '操作人',
  `trigger_order_sn` varchar NOT NULL DEFAULT '' COMMENT '触发订单sn',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '操作时间',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

CREATE TABLE `delivery_rollback_order` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '销退单主键',
  `external_order_sn` varchar DEFAULT '' COMMENT '外部订单编号',
  `external_user_info` varchar DEFAULT '' COMMENT '用户在电商平台的账号(用户ID)',
  `back_sn` varchar NOT NULL DEFAULT '' COMMENT '销退订单号',
  `order_source_type` tinyint NOT NULL DEFAULT '1' COMMENT '[1]人工录入 [2]批量导入 [3]接口获取 [4]系统生成',
  `delivery_order_id` int NOT NULL COMMENT '发货单ID',
  `delivery_box_id` int NOT NULL DEFAULT '0' COMMENT '箱单ID',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `store_id` int NOT NULL DEFAULT '0' COMMENT '店铺ID',
  `creator_id` int NOT NULL COMMENT '创建者ID',
  `auditor_id` int COMMENT '审核人ID',
  `register_id` int COMMENT '登记人ID',
  `delivery_sn` varchar COMMENT '发货单单号delivery_order表',
  `express_sn` varchar COMMENT '运单单号delivery_order表',
  `back_type` varchar DEFAULT 'primary' COMMENT '[primary]普通退货 [backgoods]退货换货 [allRejected]全部拒收[package]包裹销退,[crossBorder]跨境订单,[interceptCrossBorder]拦截跨境销退',
  `warehouse_id` int NOT NULL COMMENT '退回仓库ID 默认原发货单仓库 可改',
  `backpay_mode` varchar DEFAULT 'bank' COMMENT '付款方式退款方式---bank-银行转账--online-在线支付--cod-货到付款',
  `bank_name` varchar COMMENT '退款银行name',
  `back_status` int DEFAULT '1' COMMENT '退款状态 默认1  1：待退款 2：已退款 3：不退款',
  `payee` varchar COMMENT '退款的收款人',
  `bank_id` varchar COMMENT '退款银行的银行账号',
  `back_man` varchar COMMENT '退货人',
  `back_man_phone` varchar COMMENT '退货人电话',
  `countries` varchar NOT NULL DEFAULT 'th' COMMENT '国家',
  `province` varchar NOT NULL DEFAULT '' COMMENT '省',
  `city` varchar NOT NULL DEFAULT '' COMMENT '市',
  `district` varchar NOT NULL DEFAULT '' COMMENT '区',
  `code` varchar NOT NULL DEFAULT '' COMMENT '编号',
  `postal_code` varchar NOT NULL DEFAULT '' COMMENT '邮编',
  `consignee_address` varchar NOT NULL DEFAULT '' COMMENT '详细地址',
  `back_reason` int DEFAULT '1' COMMENT '退货原因 1：7天无理由 2：质量问题 3：过期 4：破损 5：其他',
  `back_price` bigint DEFAULT '0' COMMENT '退货金额',
  `back_express_price` bigint DEFAULT '0' COMMENT '退货运费金额',
  `real_express_price` bigint DEFAULT '0' COMMENT '用于计费的退货运费',
  `kinds_num` int NOT NULL DEFAULT '0' COMMENT '品种数量',
  `goods_num` bigint NOT NULL DEFAULT '0' COMMENT '商品数量',
  `goods_in_num` bigint NOT NULL DEFAULT '0' COMMENT '商品收货数量',
  `seller_remark` varchar COMMENT '货主备注',
  `buyer_remark` varchar DEFAULT '' COMMENT '买家备注',
  `warehouse_remark` varchar COMMENT '仓库备注',
  `back_express_sn` varchar COMMENT '退货快递单号 货主填',
  `back_express_complete_status` varchar NOT NULL DEFAULT 'n' COMMENT '销退单快递信息是否完成状态',
  `back_express_status` tinyint NOT NULL DEFAULT '0' COMMENT '销退单路由跟踪状态[0]没有状态 [10]配送中 [20]异常 [30]拒收 [40]签收',
  `back_express_status_remark` varchar NOT NULL DEFAULT '' COMMENT '修改物流状态为异常的时候，需要补充备注',
  `ori_express_sn` varchar DEFAULT '' COMMENT '原运单号',
  `total_weight` int DEFAULT '0' COMMENT '订单总量(g)',
  `total_size` int DEFAULT '0' COMMENT '订单尺寸(mm)',
  `logistic_company_id` int DEFAULT '0' COMMENT '物流公司ID',
  `back_express_name` varchar COMMENT '退货快递公司名字 货主填',
  `status` int DEFAULT '1020' COMMENT '销退单状态',
  `audit_time` datetime COMMENT '货主审核时间',
  `delivery_back_time` datetime COMMENT '货主寄回时间',
  `complete_time` datetime COMMENT '收货完成时间',
  `complete_id` int COMMENT '收货完成人',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `check_in_id` int NOT NULL DEFAULT '0' COMMENT '登记人ID',
  `check_in_time` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '登记时间',
  `api_source_from` tinyint NOT NULL DEFAULT '1' COMMENT '调用api的来源 默认1 正常调用 2 仓库端',
  `from_order_type` tinyint DEFAULT '1' COMMENT '来源类型 1发货单 2 出库单',
  `goods_error` tinyint NOT NULL DEFAULT '0' COMMENT '商品异常 1：商品异常',
  `other_warehouse_status` smallint NOT NULL DEFAULT '0' COMMENT '外部仓库状态 0 未下发 1下发成功 2 下发失败 3取消下发失败',
  `cancel_order_reason` varchar COMMENT '取消原因',
  `shelf_status` bigint DEFAULT '0' COMMENT '1070 上架中 1080 上架完成',
  `is_fast_inspection` tinyint DEFAULT '0' COMMENT '是否快速质检增加：[1]是',
  `close_reason` varchar DEFAULT '' COMMENT '销退单异常关闭原因',
  `arrival_time` datetime COMMENT '到货时间',
  `arrival_user` bigint DEFAULT '0' COMMENT '到货人',
  `channel_source` varchar DEFAULT '' COMMENT '渠道来源',
  `post_back_status` int DEFAULT '0' COMMENT '记录下已回传的状态只有正向',
  `add_source` tinyint DEFAULT '1' COMMENT '添加来源,[1]scm,[2]wms',
  `transport_mode` smallint DEFAULT '1' COMMENT '1:送货到仓 2:上门揽收',
  `shelf_end_time` datetime COMMENT '上架时间',
  `goods_status` varchar DEFAULT '' COMMENT 'normal:正品, bad:残品',
  `url` varchar DEFAULT '' COMMENT '附件地址',
  `close_time` datetime COMMENT '关闭时间',
  `close_name` varchar DEFAULT '' COMMENT '关闭人姓名',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}'


CREATE TABLE `delivery_rollback_order_register` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `warehouse_id` int NOT NULL COMMENT 'FK:warehouse_id,仓库ID',
  `status` int NOT NULL COMMENT '[1045]已到货,[1060]收货完成,[1061]异常标记',
  `express_sn` varchar NOT NULL COMMENT '退货快递单号',
  `seller_id` int NOT NULL DEFAULT '0' COMMENT '货主ID',
  `delivery_rollback_order_id` bigint NOT NULL DEFAULT '0' COMMENT '销退单id',
  `back_sn` varchar NOT NULL DEFAULT '' COMMENT '销退单SN',
  `delivery_order_id` bigint NOT NULL DEFAULT '0' COMMENT '发货单ID',
  `delivery_sn` varchar NOT NULL DEFAULT '' COMMENT '发货单SN',
  `abnormal_desc` varchar NOT NULL DEFAULT '' COMMENT '异常描述',
  `creator` int COMMENT '收货完成人',
  `created` datetime DEFAULT CURRENT_TIMESTAMP,
  `completer` int DEFAULT '0' COMMENT '完成时间',
  `completed` datetime COMMENT '完成时间',
  `modified` datetime DEFAULT CURRENT_TIMESTAMP,
  `remark` varchar DEFAULT '' COMMENT '备注',
  `type` tinyint DEFAULT '0' COMMENT '业务类型,[0]未知：默认未知,[1]普通销退,[2]包裹销退,[3]认证仓退件;这个逻辑不对等销退表，产品需要展示使用',
  `shop_id` varchar DEFAULT '' COMMENT '产品定义的shopID透传使用',
  `seller_platform_source_id` bigint DEFAULT '0' COMMENT 'shop_id 对应的平台ID',
  `order_sn` varchar DEFAULT '' COMMENT 'TT外部导入的单号',
  `register_sn` varchar DEFAULT '' COMMENT '登记表的SN',
  `adopt_status` tinyint DEFAULT '0' COMMENT ' 认领状态,[0]未认领，[1]确认中,[2] 已认领 ,[3]认领失败',
  `is_close_warning` tinyint DEFAULT '0' COMMENT '是否关闭预警,[0]否,[1]是',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}'

CREATE TABLE `rollback_order` (
  `id` bigint AUTO_INCREMENT,
  `warehouse_id` int COMMENT '仓库id',
  `seller_id` int COMMENT '客户id',
  `rollback_sn` varchar COMMENT '销退单号',
  `total_package_num` int DEFAULT '0' COMMENT '总包裹数',
  `source_type` smallint DEFAULT '3' COMMENT '单据来源 [1]接口获取[2]人工录入[3]仓库创建',
  `order_sn` varchar DEFAULT '' COMMENT '外部单号',
  `type` smallint DEFAULT '1' COMMENT '销退类型 [1]普通退货[2]退货换货[3]全部拒收[4]包裹销退',
  `status` int DEFAULT '1045' COMMENT '状态 [1030]等待买家寄回[1040]买家已寄回[1045]已到货[1050]收货中[1055]待客户审核[1056]已审核[1060]收货完成[1070]上架中[1080]上架完成[9000]异常关闭',
  `return_reason` smallint DEFAULT '6' COMMENT '退货原因[1]七天无理由[2]质量问题[3]过期[4]商品损坏[5]其他[6]买家拒收',
  `complete_time` datetime COMMENT '完成时间',
  `complete_id` int DEFAULT '0' COMMENT '完成人',
  `creator_id` int COMMENT '创建人id',
  `created` timestamp COMMENT '创建时间',
  `modified` timestamp COMMENT '更新时间',
  `receive_time` datetime COMMENT '收货完成时间',
  `receiver_id` int DEFAULT '0' COMMENT '收货人',
  `arrival_time` datetime COMMENT '到货时间',
  `arrival_id` int DEFAULT '0' COMMENT '到货人',
  `platform_rollback_sn` varchar DEFAULT '' COMMENT '三方系统单号，oms平台销退单号',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}' COMMENT='销退单'


CREATE TABLE `seller_goods_stock_snapshot` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `date` date COMMENT '日期',
  `seller_id` int NOT NULL COMMENT 'FK:seller_id,货主ID',
  `seller_name` varchar DEFAULT '' COMMENT '货主名字',
  `seller_goods_id` int NOT NULL COMMENT 'FK:seller_goods id，商品主键ID',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `warehouse_name` varchar DEFAULT '' COMMENT '仓库名字',
  `total_inventory` bigint NOT NULL DEFAULT '0' COMMENT '实物库存',
  `inventory` bigint NOT NULL DEFAULT '0' COMMENT '可用库存',
  `occupy_inventory` bigint NOT NULL DEFAULT '0' COMMENT '占用库存',
  `wait_delivery_inventory` bigint NOT NULL DEFAULT '0' COMMENT '等待发货库存/出库占用量',
  `available_inventory` int NOT NULL DEFAULT '0' COMMENT '可售库存',
  `real_available` int NOT NULL DEFAULT '0' COMMENT '预占用分配时用到的可售库存',
  `preoccupied_inventory` bigint NOT NULL DEFAULT '0' COMMENT '预占用库存',
  `transfer_loading_num` bigint NOT NULL DEFAULT '0' COMMENT '正品调拨在途数量',
  `scrap_inventory` int NOT NULL DEFAULT '0' COMMENT '残品实物库存',
  `scrap_occupy_inventory` bigint NOT NULL DEFAULT '0' COMMENT '残品出库占用量',
  `scrap_available_inventory` bigint NOT NULL DEFAULT '0' COMMENT '残品可用库存',
  `scrap_transfer_loading_num` bigint DEFAULT '0' COMMENT '残品调拨在途数量',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `goods_name` varchar DEFAULT '' COMMENT '商品名称',
  `bar_code` varchar COMMENT '商品条码',
  `specification` varchar COMMENT '商品规格',
  `goods_code` varchar COMMENT '商品货号',
  `price` bigint COMMENT '售价',
  `volume` varchar DEFAULT '' COMMENT '商品体积(单位:mm³)',
  `is_shelf_life` smallint COMMENT '是否保质期',
  `is_sn` smallint COMMENT '是否sn',
  `sales_num` bigint DEFAULT '0' COMMENT '销售数量',
  `do_sales_num` bigint DEFAULT '0' COMMENT '发货单销量',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# fle_staging
CREATE TABLE `staff_info` (
  `id` bigint COMMENT '',
  `organization_id` varchar COMMENT '所属组织机构id',
  `organization_type` smallint COMMENT '组织类别 1 store 2 department',
  `department_id` varchar COMMENT '部门id',
  `company_name` varchar COMMENT '公司名称',
  `name` varchar COMMENT '姓名',
  `email` varchar COMMENT '收件人姓名',
  `mobile` varchar COMMENT '手机号码',
  `encrypted_password` varchar COMMENT '加密后的密码',
  `vehicle` smallint COMMENT '快递员车辆类型 0:bike, 1:van',
  `formal` smallint COMMENT '员工属性 0 非编制 1 编制 ',
  `outsourcing_category` smallint COMMENT '员工外协类型',
  `outsourcing_pay_type` tinyint COMMENT '外协员工支付类型 1:日支付,2:月支付',
  `state` smallint COMMENT '员工状态 1 在职 2 离职',
  `hire_date` date COMMENT '入职日期',
  `leave_date` date COMMENT '离职日期',
  `stop_duties_date` date COMMENT '停职日期',
  `job_title` bigint COMMENT '职位id',
  `avatar_path` varchar COMMENT '头像保存路径',
  `avatar_bucket` varchar COMMENT '头像保存所属 bucket',
  `profile_photo_path` varchar COMMENT 'fbi档案照保存路径',
  `profile_photo_bucket` varchar COMMENT 'fbi档案照保存所属bucket',
  `work_attendance_path` varchar COMMENT '考勤源照片',
  `work_attendance_bucket` varchar COMMENT '考勤源照片所属 bucket',
  `last_lat` decimal(11, 8) COMMENT '快递员上次地址纬度',
  `last_lng` decimal(11, 8) COMMENT '快递员上次地址经度',
  `last_coord_at` datetime COMMENT '快递员上次坐标更新时间',
  `current_lat` decimal(11, 8) COMMENT '快递员当前地址纬度',
  `current_lng` decimal(11, 8) COMMENT '快递员当前地址经度',
  `current_coord_at` datetime COMMENT '快递员当前坐标更新时间',
  `online_status` tinyint COMMENT '快递员在线状态',
  `virtual_number_enabled` tinyint COMMENT '是否为虚拟工号',
  `area_manager_id` bigint COMMENT '区域经理id',
  `area_id` varchar COMMENT '区域id(包含多个)',
  `is_sub_staff` tinyint COMMENT '是否是子账号 1:是 0:否',
  `master_staff` int COMMENT '主账号',
  `sorting_group_id` bigint COMMENT '员工分拣组id',
  `created_at` datetime COMMENT '',
  `updated_at` datetime COMMENT '',
  `mobile_company` varchar COMMENT '企业账号',
  `instructor_id` bigint COMMENT '辅导员工号',
  `error_login_num` int DEFAULT '0' COMMENT '登陆密码错误次数',
  `allowed_login_at` datetime COMMENT '允许登录时间',
  `superior_id` bigint COMMENT '父级id',
  `personal_email` varchar COMMENT '员工私人邮箱',
  `temporary_enabled` tinyint DEFAULT '0' COMMENT '是否为临时员工  0:非临时 1:临时',
  `staff_source_category` smallint DEFAULT '0' COMMENT '员工来源  0:hris创建 1:ms创建',
  `bank_no` varchar COMMENT '银行账号',
  `bank_type` int DEFAULT '0' COMMENT '银行卡类型0未知;1TMB;2SCB',
  `bank_no_name` varchar COMMENT '银行名称',
  `open_user_id` varchar COMMENT 'Flash员工贷唯一标识',
  `loan_enable` tinyint COMMENT 'Flash员工贷是否可用',
  `sync_country_enable` smallint DEFAULT '0' COMMENT '泰国含义 是否同步到其他国家  其他国家含义 是否是由泰国同步过来的',
  `hire_type` tinyint COMMENT '1 正式员工 2 月薪制特殊合同工 3 日薪制特殊合同工 4 时薪制特殊合同工 5 实习生 11 是普通外协；12 是众包外协',
  `wait_leave_state` smallint COMMENT '员工待离职状态 1 待离职 0 非待离职',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';




CREATE TABLE `seller_goods_stock` ( # wms_production
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `seller_id` int NOT NULL COMMENT 'FK:seller_id,货主ID',
  `seller_goods_id` int NOT NULL COMMENT 'FK:seller_goods id，商品主键ID',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `total_inventory` bigint NOT NULL DEFAULT '0' COMMENT '实物库存',
  `inventory` bigint NOT NULL DEFAULT '0' COMMENT '可用库存',
  `occupy_inventory` bigint NOT NULL DEFAULT '0' COMMENT '占用库存',
  `wait_delivery_inventory` bigint NOT NULL DEFAULT '0' COMMENT '等待发货库存/出库占用量',
  `available_inventory` int NOT NULL DEFAULT '0' COMMENT '可售库存',
  `real_available` int NOT NULL DEFAULT '0' COMMENT '预占用分配时用到的可售库存',
  `preoccupied_inventory` bigint NOT NULL DEFAULT '0' COMMENT '预占用库存',
  `lock_inventory` int DEFAULT '0' COMMENT '锁定库存',
  `lock_occupy_inventory` int DEFAULT '0' COMMENT '锁定转占用',
  `transfer_loading_num` int DEFAULT '0' COMMENT '正品调拨在途数量',
  `purchase_loading_num` bigint NOT NULL DEFAULT '0' COMMENT '采购在途数量',
  `forbid_sale_inventory` int DEFAULT '0' COMMENT '禁售库存量',
  `scrap_inventory` int NOT NULL DEFAULT '0' COMMENT '残品实物库存',
  `scrap_occupy_inventory` bigint NOT NULL DEFAULT '0' COMMENT '残品出库占用量',
  `scrap_available_inventory` bigint NOT NULL DEFAULT '0' COMMENT '残品可用库存',
  `scrap_transfer_loading_num` int DEFAULT '0' COMMENT '残品调拨在途数量',
  `stock_inventory` int NOT NULL DEFAULT '0' COMMENT '备货区库存',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `is_useful` smallint NOT NULL DEFAULT '1' COMMENT '该列是否有效 0标识无效 1有效',
  `stock_floor` int NOT NULL DEFAULT '0' COMMENT '库存下限',
  `stock_upper` int NOT NULL DEFAULT '0' COMMENT '库存上限',
  `mark` tinyint NOT NULL DEFAULT '0' COMMENT '标记 0:正常;1:库存低于库存下限;2:库存高于库存上限;',
  `custom_daily_sales_count` int NOT NULL DEFAULT '0' COMMENT '自定义日均销量',
  `waiting_temporary_normal` int DEFAULT '0' COMMENT '发货暂存区 - 正品',
  `waiting_temporary_bad` int DEFAULT '0' COMMENT '发货暂存区 - 残品',
  `cn_normal` int DEFAULT '0' COMMENT '菜鸟正品',
  `cn_bad` int DEFAULT '0' COMMENT '菜鸟残品',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';


CREATE TABLE `seller_goods_location_ref` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `seller_id` int NOT NULL COMMENT 'FK:seller_id,货主ID',
  `seller_goods_id` int NOT NULL COMMENT 'FK:seller_goods id，商品主键ID',
  `seller_goods_batch_id` int NOT NULL DEFAULT '0' COMMENT 'FK:seller_goods_batch_id，商品批次主键ID',
  `seller_goods_batch_code` varchar NOT NULL DEFAULT '' COMMENT '商品批次码',
  `warehouse_id` int NOT NULL COMMENT 'FK:warehouse_id,仓库ID',
  `repository_id` int NOT NULL COMMENT 'FK:repository id，库区主键ID',
  `location_id` int NOT NULL COMMENT 'FK:location id，货位主键ID',
  `location_type` varchar NOT NULL DEFAULT 'temporary' COMMENT '库位所属库区类型： stock备货区 pick拣货区 scrap残品区 temporary暂存区 prepack预打包 back退货区 [waitingTemporary]发货暂存区',
  `inventory` bigint NOT NULL COMMENT 'seller goods inventory in this loaction',
  `inventory_type` varchar DEFAULT 'receipt' COMMENT 'putaway:上架增加；receipt:收货增加 lockadd 少货异常增加',
  `quality_status` varchar NOT NULL DEFAULT 'normal' COMMENT '商品质量状态（正品，残品）',
  `occupy_inventory` bigint NOT NULL DEFAULT '0' COMMENT '占用库存',
  `delivery_occupy` bigint NOT NULL DEFAULT '0' COMMENT '发货单占用',
  `wait_delivery_inventory` bigint NOT NULL DEFAULT '0' COMMENT '等待发货库存',
  `arrival_notice_id` int NOT NULL DEFAULT '0' COMMENT '入库单主键ID',
  `from_order_id` int NOT NULL DEFAULT '0' COMMENT '来源订单ID',
  `from_order_sn` varchar NOT NULL DEFAULT '' COMMENT '来源订单号',
  `from_order_type` varchar NOT NULL DEFAULT 'arrivalNotice' COMMENT '来源订单类型 arrivalNotice 到货通知单 deliveryRollbackOrder销退单 onSales [deliveryOrder]发货单',
  `supply_id` int DEFAULT '0' COMMENT '供应商',
  `in_warehouse_sn` varchar NOT NULL DEFAULT '' COMMENT '入库单号（到货单，销退单单号）',
  `in_warehouse_date` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '入库时间',
  `production_date` varchar NOT NULL DEFAULT '' COMMENT '商品生产日期',
  `warning_date` varchar NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '保质期商品预警时间',
  `lock_up_date` varchar DEFAULT '0000-00-00 00:00:00' COMMENT '禁售日期',
  `expiring_date` varchar NOT NULL DEFAULT '' COMMENT '商品过期日期（便于过期预警)',
  `near_expiring_days` int NOT NULL DEFAULT '0' COMMENT '距离过期天数',
  `near_date_type` smallint DEFAULT '0' COMMENT '临期类型 0 正常 1 到预警期 2 已过期 3 禁售',
  `is_useful` smallint NOT NULL DEFAULT '1' COMMENT '该列是否有效 0标识无效 1有效 2 当是暂存位是代表已经创建上架单',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

CREATE TABLE `repository` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `name` varchar NOT NULL DEFAULT '' COMMENT '',
  `warehouse_id` int NOT NULL COMMENT 'FK:warehouse id',
  `repository_code` varchar NOT NULL COMMENT '',
  `use_attribute` varchar NOT NULL DEFAULT 'stock' COMMENT 'stock:备货 pick：捡货 scrap: 残品 temporary：暂存 prepack：预打包 back：退货 waitingTemporary:待发货暂存区',
  `is_valuable` tinyint NOT NULL DEFAULT '0' COMMENT '是否贵品库区 [0]否 [1]是',
  `is_keep_temperature` tinyint NOT NULL DEFAULT '0' COMMENT '是否恒温库区 [0]否 [1]是',
  `disabled` tinyint NOT NULL DEFAULT '0' COMMENT '0 enable;1 disabled',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `share_ratio` decimal(10, 2) DEFAULT '30.00' COMMENT '公摊比例 0-100',
  `area` int DEFAULT '0' COMMENT '面积，存平方dm，平方m保留两位小数',
  `creator_id` bigint DEFAULT '0' COMMENT '创建人id',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production
CREATE TABLE `seller` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `name` varchar NOT NULL COMMENT '',
  `seller_code` varchar NOT NULL COMMENT '',
  `comment` varchar COMMENT '',
  `credit_line` decimal(10, 2) NOT NULL DEFAULT '0.00' COMMENT '',
  `account_balance` decimal(10, 2) NOT NULL DEFAULT '0.00' COMMENT '',
  `seller_freight_group_id` int COMMENT '',
  `is_weight_set` int NOT NULL DEFAULT '1' COMMENT '',
  `industry_category_id` int COMMENT '',
  `creater` bigint COMMENT '',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `disabled` tinyint NOT NULL DEFAULT '1' COMMENT '[0]启用状态  [1]禁用状态',
  `disabled_update` tinyint NOT NULL DEFAULT '1' COMMENT '修改条码 [0]允许 [1]禁止',
  `transfer_off` tinyint NOT NULL DEFAULT '0' COMMENT '调拨单相关的出入库单据 [0]计算费用 [1]不计算费用',
  `is_open_asset` tinyint NOT NULL DEFAULT '0' COMMENT '',
  `is_new_maintenance` tinyint DEFAULT '0' COMMENT '入库必须做新品维护',
  `is_open_store` tinyint NOT NULL DEFAULT '0' COMMENT '[0]未开通 [1]开通商城 [2]冻结店铺',
  `store_name` varchar NOT NULL DEFAULT '' COMMENT '店铺名称',
  `is_open_refund` tinyint NOT NULL DEFAULT '0' COMMENT '[0]未开通 [1]开通退件业务',
  `is_open_ad` tinyint NOT NULL DEFAULT '0' COMMENT '是否开通组装拆卸服务',
  `is_open_message` tinyint NOT NULL DEFAULT '0' COMMENT '是否开通短信功能',
  `is_open_split` tinyint NOT NULL DEFAULT '0' COMMENT '是否开通拆单功能',
  `manual_add_billing` tinyint NOT NULL DEFAULT '0' COMMENT '允许人工创建订单',
  `is_open_apply` tinyint NOT NULL DEFAULT '0' COMMENT '是否开通服务申请单',
  `is_show_bill` tinyint NOT NULL DEFAULT '0' COMMENT 'SCM端是否允许查看费用流水',
  `require_store` tinyint NOT NULL DEFAULT '1' COMMENT 'scm添加发货单时是否店铺必填 [0]否 [1]是',
  `is_open_transfer_express` tinyint DEFAULT '0' COMMENT '是否开通换单业务',
  `is_show_container_manage` tinyint DEFAULT '0' COMMENT 'SCM端是否展示包材管理 [0]否 [1]是',
  `is_container_authorize_warehouse` tinyint DEFAULT '0' COMMENT '是否开通包材授权给仓库 [0]否 [1]是',
  `is_scrap` bigint DEFAULT '0' COMMENT '是否开启报废策略。值大于0表示开启报废策略设置的天数，0表示不开启',
  `is_billing_no_need_audit` tinyint DEFAULT '0' COMMENT '无需FFM内部审核账单 0 没打勾 1 打勾 默认0',
  `is_open_tc_rw` tinyint DEFAULT '0' COMMENT '开启创建退仓出库单 默认不开启',
  `is_must_exist_code` smallint DEFAULT '1' COMMENT '是否条码不存在的商品必须贴码 0 否 1是',
  `is_test_data` tinyint DEFAULT '0' COMMENT '标记为测试数据 0 否 1 是',
  `is_open_shelf_life` tinyint DEFAULT '1' COMMENT '[1]启用保质期管理',
  `open_shelf_life_type` tinyint DEFAULT '1' COMMENT '按X管理 [1]日 [2]周 [3]月 [4]季 [5]半年 [6]年',
  `auto_fix_unload_fee` smallint DEFAULT '0' COMMENT '根据商品档案自动修正卸货费 [0] 否 [1] 是',
  `is_cooperation` tinyint DEFAULT '1' COMMENT '是否合作 1 是 0 否',
  `allow_ka_arrival` smallint DEFAULT '0' COMMENT '销退包裹允许KA账号入库',
  `is_auto_scrap` bigint DEFAULT '0' COMMENT '是否开启自动报废策略。值大于0表示开启报废策略设置的天数，0表示不开启',
  `is_open_container_size` tinyint DEFAULT '0' COMMENT '是否开启按货柜尺寸装卸货 1 是 0 否',
  `seller_type` tinyint DEFAULT '2' COMMENT '货主类别 1 FlashSCM 2 FlashFulfillment',
  `no_weighing` tinyint DEFAULT '0' COMMENT '[1]线下快递打包无需称重',
  `is_parts_service` tinyint DEFAULT '0' COMMENT '是否开通仓库出库配件服务',
  `lock_to_bad` tinyint DEFAULT '0' COMMENT '开启临期禁售商品自动转残品',
  `is_seller_able_container` tinyint DEFAULT '0' COMMENT '是否开启货主可用包材范围',
  `able_container_range` tinyint DEFAULT '1' COMMENT '可用包材范围枚举 1.仅FFM包材可用（默认） ；2.仅货主自有包材可用；3.货主自有包材和FFM包材均可用；4.仅包材配置可用；',
  `is_forbid_expired_to_bad` tinyint DEFAULT '0' COMMENT '是否开启禁用过期商品自动转残',
  `not_to_bad` tinyint DEFAULT '0' COMMENT '禁用过期商品自动转残品',
  `company_id` int DEFAULT '0' COMMENT '公司ID',
  `is_fast_billing` tinyint DEFAULT '0' COMMENT '是否快速出账',
  `ka_sub_account` varchar DEFAULT '' COMMENT 'KA子账号',
  `affixed_code_type_selected` varchar DEFAULT '["10"]' COMMENT '增值服务（原贴码单）多选',
  `seller_is_show_measure_img` tinyint DEFAULT '0' COMMENT 'SCM商品档案展示仓库测量图片',
  `is_check_flash_staff_state` tinyint DEFAULT '0' COMMENT '是否开启Flash在职状态校验',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production
CREATE TABLE `seller_goods_location_area_snapshot` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `date` date COMMENT '业务日期',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `repository_id` int NOT NULL COMMENT 'FK:repository id，库区主键ID',
  `location_id` int NOT NULL COMMENT 'FK:location id，货位主键ID',
  `seller_goods_id` int NOT NULL COMMENT 'FK:seller_goods id，商品主键ID',
  `total_inventory` bigint NOT NULL COMMENT 'seller goods inventory in this loaction',
  `total_occupy_inventory` bigint NOT NULL DEFAULT '0' COMMENT '占用库存',
  `location_attribute` tinyint NOT NULL COMMENT '货位属性 1 小货架、2 中货架、3 大货架，4 落地货架、5 其他',
  `location_length` int COMMENT '货位长(单位:mm)',
  `location_width` int COMMENT '货位宽(单位:mm)',
  `location_height` int COMMENT '货位高(单位:mm)',
  `location_area` decimal(20, 6) NOT NULL COMMENT '货位面积 单位m2',
  `location_area_by_share` decimal(20, 6) NOT NULL COMMENT '货位面积(按公摊系数) 单位m2',
  `share_ratio` decimal(10, 2) NOT NULL COMMENT '公摊比例 0-100',
  `goods_name` varchar NOT NULL COMMENT '商品名称',
  `bar_code` varchar NOT NULL COMMENT '商品条码',
  `goods_code` varchar NOT NULL COMMENT '商品货号',
  `goods_specification` varchar NOT NULL COMMENT '商品规格',
  `goods_length` int COMMENT '商品长(单位:mm)',
  `goods_width` int COMMENT '商品宽(单位:mm)',
  `goods_height` int COMMENT '商品高(单位:mm)',
  `goods_volume` varchar DEFAULT '' COMMENT '商品体积(单位:mm³)',
  `goods_weight` int COMMENT '商品重(单位:g)',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production
CREATE TABLE `container_order` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `container_sn` varchar NOT NULL DEFAULT '' COMMENT '包材单号',
  `type` varchar COMMENT '[deliveryOrder]销售出库 [prepack]销售出库(预打包) [returnWarehouse]退供出库,[transferCollectionPackage]集包单,[deliveryReceiptOrder]发货交接单,[affixedCode]增值服务单',
  `business_id` int NOT NULL DEFAULT '0' COMMENT '业务单ID',
  `box_id` int NOT NULL COMMENT '包装箱ID',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `number` smallint NOT NULL DEFAULT '0' COMMENT '包材数量',
  `total_price` int NOT NULL DEFAULT '0' COMMENT '包材总价格(单位：萨当)',
  `billing_amount` int NOT NULL DEFAULT '0' COMMENT '计费金额(单位:萨当)',
  `add_type` varchar NOT NULL DEFAULT 'system' COMMENT '添加来源',
  `status` int NOT NULL DEFAULT '1010' COMMENT '状态 1010：待审核 1020：已审核 ',
  `creator` int NOT NULL DEFAULT '0' COMMENT '添加人',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `checker` int NOT NULL DEFAULT '0' COMMENT '审核人',
  `check_time` datetime COMMENT '审核时间',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `hint` int DEFAULT '0' COMMENT '提示：[1]撤回成功',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production
CREATE TABLE `container` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `seller_id` int NOT NULL DEFAULT '0' COMMENT '货主ID',
  `bar_code` varchar NOT NULL COMMENT '条形码',
  `name` varchar NOT NULL COMMENT '包材名称',
  `length` int COMMENT '长',
  `width` int COMMENT '宽',
  `height` int COMMENT '高',
  `weight` int COMMENT '重量(单位:克)',
  `volume` bigint DEFAULT '0' COMMENT '体积',
  `min_side` int NOT NULL DEFAULT '0' COMMENT '最小边长',
  `mid_side` int NOT NULL DEFAULT '0' COMMENT '中间边长',
  `max_side` int NOT NULL DEFAULT '0' COMMENT '最大边长',
  `logistic_require` varchar COMMENT '物流特殊要求',
  `packing_charge` bigint NOT NULL COMMENT '包装费',
  `total_inventory` int NOT NULL DEFAULT '0' COMMENT '总库存',
  `status` tinyint NOT NULL DEFAULT '1' COMMENT '[0]停用 [1]启用',
  `add_type` varchar NOT NULL DEFAULT 'warehouse' COMMENT '添加端',
  `issued` smallint NOT NULL DEFAULT '0' COMMENT '是否下发给外部仓库 [0]未下发 [1]已下发 [2]下发失败(新增) [3]下发失败(修改)',
  `mark` varchar NOT NULL DEFAULT 'warehouse' COMMENT '标记',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `container_top_id` bigint NOT NULL DEFAULT '0' COMMENT '父级包材类目ID',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production
CREATE TABLE `billing_detail` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `serial_number` varchar NOT NULL DEFAULT '' COMMENT '费用流水号',
  `billing_id` int COMMENT '应收账单ID',
  `charge_sn` varchar NOT NULL DEFAULT '' COMMENT '应收单号',
  `billing_projects_id` int NOT NULL COMMENT '计费项ID',
  `business_id` int NOT NULL COMMENT '业务单ID',
  `business_sn` varchar NOT NULL DEFAULT '' COMMENT '业务单号',
  `business_date` date COMMENT '业务发生日期',
  `from_order_sn` varchar DEFAULT '' COMMENT '来源业务单号',
  `external_order_sn` varchar DEFAULT '' COMMENT '外部单号',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `manual_add` tinyint NOT NULL DEFAULT '0' COMMENT '[0]系统创建 [1]人工添加',
  `express_sn` varchar NOT NULL DEFAULT '' COMMENT '运单号',
  `usable_logistic_company_id` int COMMENT '快递公司ID',
  `in_city` varchar NOT NULL DEFAULT '' COMMENT '[N]市外 [Y]市内',
  `in_remote` varchar NOT NULL DEFAULT '' COMMENT '[N]正常 [Y]偏远',
  `number` varchar NOT NULL DEFAULT '0' COMMENT '数量/重量(g)',
  `number_type` tinyint NOT NULL DEFAULT '1' COMMENT '[1]订单数 [2]商品品种数 [3]商品件数 [4]订单总金额 [5]订单总体积 [6]订单总重量 [7]租用面积 [8]尺寸 [9]商品件数(指定单位)',
  `unit` varchar NOT NULL DEFAULT '' COMMENT '单位',
  `postal_code` varchar NOT NULL DEFAULT '' COMMENT '邮编',
  `price` int NOT NULL DEFAULT '0' COMMENT '单价',
  `amount` bigint NOT NULL DEFAULT '0' COMMENT '计费金额',
  `remainder_num` int DEFAULT '0' COMMENT '余数数量',
  `remainder_price` int DEFAULT '0' COMMENT '余数单价',
  `cod_amount` bigint NOT NULL DEFAULT '0' COMMENT 'COD金额(单位:萨当)',
  `cod_fee` bigint NOT NULL DEFAULT '0' COMMENT 'COD手续费(单位:萨当)',
  `insure_declare_value` int NOT NULL DEFAULT '0' COMMENT '保价费',
  `discount_amount` bigint DEFAULT '0' COMMENT '优惠金额',
  `insure_declare_adjustment_value` bigint NOT NULL DEFAULT '0' COMMENT '保价费调整金额',
  `adjustment_amount` bigint NOT NULL DEFAULT '0' COMMENT '调整金额(单位:萨当)',
  `settlement_amount` bigint NOT NULL DEFAULT '0' COMMENT '结算金额(单位:萨当)',
  `logistic_weight` int COMMENT '快递重量(单位:克)',
  `logistic_size` int COMMENT '快递尺寸(单位:mm)',
  `logistic_size_detail` varchar DEFAULT '' COMMENT '快递尺寸明细 （长*宽*高）',
  `logistic_number_type` int COMMENT '快递计费单位 [6] 重量 [8] 尺寸',
  `logistic_amount` bigint COMMENT '快递计费金额',
  `warehouse_weight` int COMMENT '仓库重量(单位:克)',
  `warehouse_size` int COMMENT '仓库尺寸(单位:mm)',
  `warehouse_size_detail` varchar DEFAULT '' COMMENT '仓库尺寸明细 （长*宽*高）',
  `warehouse_number_type` int COMMENT '仓库计费单位 [6] 重量 [8] 尺寸',
  `warehouse_amount` bigint COMMENT '仓库计费金额',
  `express_fee_type` tinyint COMMENT '快递费计费类型 1 仓库 2 快递',
  `created_name` varchar NOT NULL DEFAULT '' COMMENT '创建人',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '调整原因',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `is_last` tinyint DEFAULT '0' COMMENT '是否不再走之后的优惠促销',
  `mark` varchar DEFAULT '' COMMENT '流水走过优惠方案详情',
  `cross_express_detail` varchar DEFAULT '' COMMENT '跨境计费详情',
  `adjustment_id` int DEFAULT '0' COMMENT '调整人ID',
  `adjustment_time` int DEFAULT '0' COMMENT '调整时间',
  `no_discount_amount` int DEFAULT '0' COMMENT '不参与优惠的金额',
  `is_island` tinyint DEFAULT '0' COMMENT '是否海岛',
  `billing_data` varchar DEFAULT '' COMMENT '计费数据',
  `billing_rule` varchar DEFAULT '' COMMENT '计费规则',
  `data_extra` varchar DEFAULT '' COMMENT '额外数据 省市区 及规则等',
  `country` varchar DEFAULT 'th' COMMENT '国家 不同国家默认值不一样',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production
CREATE TABLE `billing` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `billing_sn` varchar NOT NULL DEFAULT '' COMMENT '应收单号',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `type` tinyint NOT NULL DEFAULT '1' COMMENT '[1]仓储费 [2]快递费 [3]保险费',
  `cycle` tinyint NOT NULL DEFAULT '1' COMMENT '结算周期 [1]天 [2]周 [3]半月 [4]月 [5]季 [6]半年',
  `billing_start` date COMMENT '账期开始日期',
  `billing_end` date COMMENT '账期结束日期',
  `discount_amount` int DEFAULT '0' COMMENT '优惠金额(单位:萨当)',
  `accounts_receivable` bigint NOT NULL DEFAULT '0' COMMENT '应收金额(单位:萨当)',
  `amount_received` bigint NOT NULL DEFAULT '0' COMMENT '已收金额(单位:萨当)',
  `receivable_balance` bigint NOT NULL DEFAULT '0' COMMENT '应收余额(单位:萨当)',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `manual_add` tinyint NOT NULL DEFAULT '0' COMMENT '[0]系统创建 [1]人工添加',
  `status` tinyint NOT NULL DEFAULT '10' COMMENT '[0]删除 [10]已创建 [15]待处理 [20]已处理 [30]未结清 [40]已结清 [50] 不结算',
  `settlement` datetime COMMENT '结算日期',
  `income_spending` tinyint NOT NULL DEFAULT '0' COMMENT '是否结算刷新收支报表',
  `auditor_id` int COMMENT '审核人ID',
  `auditor_time` timestamp COMMENT '审核时间',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `rejection_reason` varchar DEFAULT '' COMMENT '驳回原因',
  `partial_settlement_times` tinyint DEFAULT '0' COMMENT '部分结算次数',
  `partial_settlement_time` timestamp COMMENT '最后一次部分结算时间',
  `creator` varchar DEFAULT 'system' COMMENT '创建人',
  `business_auditor_id` int DEFAULT '0' COMMENT '商务审核人ID',
  `business_audit_time` timestamp COMMENT '商务审核时间',
  `fin_auditor_id` int DEFAULT '0' COMMENT '财务审核人ID',
  `fin_audit_time` timestamp COMMENT '财务审核时间',
  `data_auditor_id` int DEFAULT '0' COMMENT '数据审核人ID',
  `data_audit_time` timestamp COMMENT '数据审核时间',
  `waite_confirm_time` timestamp COMMENT '待确认时间',
  `download_id` bigint DEFAULT '0' COMMENT '下载ID',
  `rejection_files` varchar DEFAULT '' COMMENT '驳回附件',
  `rejection_time` datetime COMMENT '驳回时间',
  `invoice_status` tinyint DEFAULT '10' COMMENT '开票状态 10 未开票 20 已开票 30 已完成',
  `tax_rate` varchar DEFAULT '' COMMENT '税率 出账时取货主税率',
  `pay_time` varchar DEFAULT '' COMMENT '付款时间',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production
CREATE TABLE `billing_projects` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `billing_code` varchar NOT NULL DEFAULT '' COMMENT '计费代码',
  `billing_name` varchar NOT NULL DEFAULT '' COMMENT '计费名称',
  `billing_name_zh` varchar NOT NULL DEFAULT '' COMMENT '计费名称中文',
  `billing_name_en` varchar NOT NULL DEFAULT '' COMMENT '计费名称英文',
  `billing_name_vn` varchar NOT NULL DEFAULT '' COMMENT '计费名称 越南',
  `billing_name_sg` varchar NOT NULL DEFAULT '' COMMENT '计费名称 新加坡',
  `billing_name_my` varchar NOT NULL DEFAULT '' COMMENT '计费名称 马来西亚',
  `billing_name_idr` varchar NOT NULL DEFAULT '' COMMENT '计费名称 印度尼西亚',
  `billing_name_ph` varchar NOT NULL DEFAULT '' COMMENT '计费名称 菲律宾',
  `billing_name_la` varchar NOT NULL DEFAULT '' COMMENT '计费名称 老挝',
  `type` tinyint NOT NULL DEFAULT '1' COMMENT '[1]仓储 [2]快递 [3]保险',
  `documents` int NOT NULL COMMENT '[1]销售订单 [2]出库单 [3]入库单 [4]销退订单 [5]贴码单 [6]包材单 [7]装货单 [8]卸货单 [9]盘点单 [10]仓库租赁单 [11]拦截归位单',
  `description` varchar NOT NULL DEFAULT '' COMMENT '描述',
  `status` tinyint NOT NULL DEFAULT '2' COMMENT '[0]删除 [1]停用 [2]存盘 [3]启用',
  `creator_id` int COMMENT '创建人ID',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production 拦截单
CREATE TABLE `intercept_place` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `type` smallint DEFAULT '400' COMMENT '[400]打包拦截 [500]发货拦截 [600]打包冻结 [700]发货冻结',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `intercept_sn` varchar DEFAULT '' COMMENT '拦截归位单',
  `times` smallint NOT NULL DEFAULT '1' COMMENT '次数，对应发货单times字段',
  `reflect_type` tinyint NOT NULL DEFAULT '1' COMMENT '[1]发货单 [2]出库单',
  `reflect_id` int NOT NULL DEFAULT '0' COMMENT '关联ID',
  `reflect_sn` varchar NOT NULL DEFAULT '' COMMENT '关联编号',
  `express_sn` varchar DEFAULT '' COMMENT '运单号',
  `kinds_num` int NOT NULL DEFAULT '0' COMMENT '品种数量',
  `goods_num` bigint NOT NULL DEFAULT '0' COMMENT '商品数量',
  `waiting_location` int COMMENT '发货暂存位ID',
  `temp_location` int COMMENT '临时货位ID',
  `status` smallint NOT NULL DEFAULT '1010' COMMENT '[1000]已取消 [1010]创建 [1020]库存分配成功 [1030]待上架 [1040]上架完成',
  `wait_shelf_on_time` datetime COMMENT '待创建上架单操作时间',
  `wait_shelf_on_man_id` int NOT NULL DEFAULT '0' COMMENT '待创建上架单操作人',
  `shelf_on_start_time` datetime COMMENT '上架开始时间',
  `shelf_on_end_time` datetime COMMENT '上架结束时间',
  `member_id` int NOT NULL COMMENT '拦截人ID',
  `mark` tinyint NOT NULL DEFAULT '0' COMMENT '是否多批次商品',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `other_warehouse_status` smallint NOT NULL DEFAULT '0' COMMENT '外部仓库状态 0 未下发 1下发成功 2 下发失败 3取消下发失败 4部分收货 5全部收货',
  `shelf_man_id` bigint COMMENT '上架完成人id',
  `cancel_time` datetime COMMENT '取消时间',
  `cancel_id` bigint COMMENT '取消人id',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# wms_production 异常单
CREATE TABLE `abnormal_order` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '异常单主键ID',
  `sn` varchar NOT NULL COMMENT '异常单SN',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `type` tinyint NOT NULL COMMENT '异常类型 1 多货 auto.adjustmentType.1 2少货 auto.adjustmentType.2',
  `form_source` int COMMENT '来源环节 pdaNew [393] 打包 =>暂无使用, [164] 拣货 => 来源发货单 delivery_order ,[457]多货登记 => 来源无,[383] => 来源盘点单 location_inventory, [458]少货登记 => 无来源',
  `from_source_id` int NOT NULL DEFAULT '0' COMMENT '订单来源',
  `from_source_sn` varchar NOT NULL DEFAULT '' COMMENT '来源单号',
  `seller_goods_id` int NOT NULL COMMENT '商品id',
  `delivery_order_id` bigint NOT NULL COMMENT '发货单ID',
  `pick_id` int NOT NULL COMMENT '拣货单ID',
  `location_id` int NOT NULL COMMENT '货位ID',
  `status` smallint NOT NULL DEFAULT '1' COMMENT '1 已创建 2处理中 3已完成',
  `reason` tinyint NOT NULL DEFAULT '0' COMMENT '异常原因:[0]无,[1]出库发错货,[2]出库未记账,[3]丢失,[4]破损,[5]过期,[6]其他',
  `reason_desc` varchar NOT NULL DEFAULT '' COMMENT '异常原因描述，其他的时候存在i',
  `seller_goods_batch_id` int NOT NULL DEFAULT '0' COMMENT '保质期商品批次ID',
  `goods_sn_codes` varchar NOT NULL DEFAULT '' COMMENT 'sn商品的code集合，[1,2]',
  `abnormal_num` int NOT NULL COMMENT '原异常数量',
  `occupy_num` int NOT NULL COMMENT '占用数量（当前异常数量）',
  `comfirm_num` bigint NOT NULL DEFAULT '0' COMMENT '确认丢失数量',
  `cancle_num` bigint NOT NULL DEFAULT '0' COMMENT '取消异常数量',
  `hedge_num` bigint NOT NULL DEFAULT '0' COMMENT '对冲数量数量',
  `creater_user` bigint NOT NULL DEFAULT '0' COMMENT '创建人ID',
  `operator_user` bigint NOT NULL DEFAULT '0' COMMENT '上游操作人',
  `finish_time` datetime COMMENT '完成时间',
  `doing_time` datetime COMMENT '处理时间',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

CREATE TABLE `delivery_order_mark_relation` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `type` tinyint NOT NULL DEFAULT '1' COMMENT '1:货主端标记 2:仓库端标记',
  `delivery_order_id` int NOT NULL DEFAULT '0' COMMENT '发货单ID',
  `mark_id` int NOT NULL DEFAULT '0' COMMENT '标记ID',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '添加时间',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}'

############################################################################################################# wms_production #############################################################################################################
############################################################################################################# erp_wms_prod #############################################################################################################
# erp_wms_prod
CREATE TABLE `consumables_stock` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `consumables_id` bigint NOT NULL COMMENT '消耗品id',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `total_inventory` bigint NOT NULL DEFAULT '0' COMMENT '实物库存',
  `unit_conversion_inventory` decimal(20, 0) NOT NULL DEFAULT '0' COMMENT '消耗单位实物库存',
  `inventory` int NOT NULL DEFAULT '0' COMMENT '可用库存',
  `freeze_inventory` bigint NOT NULL DEFAULT '0' COMMENT '冻结库存',
  `freeze_remark` varchar NOT NULL DEFAULT '' COMMENT '冻结原因',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `consumables_use_log` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `consumables_id` bigint NOT NULL COMMENT '消耗品id',
  `type` tinyint COMMENT '类型:1仓内领用 2业务调拨 3采购入库 4退还入库 5调拨入库 6盘亏 7盘盈',
  `num` bigint COMMENT '数量',
  `creator` int NOT NULL COMMENT '创建人',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP,
  `in_out_type` tinyint DEFAULT '1' COMMENT '1 入库 2 出库',
  `order_id` bigint DEFAULT '0' COMMENT '单据id',
  `order_sn` varchar DEFAULT '' COMMENT '单号',
  `total_num` bigint DEFAULT '0' COMMENT '结余库存',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `rollback_order` (
  `id` bigint AUTO_INCREMENT,
  `warehouse_id` int COMMENT '仓库id',
  `seller_id` int COMMENT '客户id',
  `rollback_sn` varchar COMMENT '销退单号',
  `total_package_num` int DEFAULT '0' COMMENT '总包裹数',
  `source_type` smallint DEFAULT '3' COMMENT '单据来源 [1]接口获取[2]人工录入[3]仓库创建',
  `order_sn` varchar DEFAULT '' COMMENT '外部单号',
  `type` smallint DEFAULT '1' COMMENT '销退类型 [1]普通退货[2]退货换货[3]全部拒收[4]包裹销退',
  `status` int DEFAULT '1045' COMMENT '状态 [1030]等�����买家寄回[1040]买家已寄回[1045]已到货[1050]收货中[1055]待客户审核[1056]已审核[1060]收货完成[1070]上架中[1080]上架完成[9000]异常关闭',
  `return_reason` smallint DEFAULT '6' COMMENT '退货原因[1]七天无理由[2]质量问题[3]过期[4]商品损坏[5]其他[6]买家拒收',
  `complete_time` datetime COMMENT '完成时间',
  `complete_id` int DEFAULT '0' COMMENT '完成人',
  `creator_id` int COMMENT '创建人id',
  `created` timestamp COMMENT '创建时间',
  `modified` timestamp COMMENT '更新时间',
  `receive_time` datetime COMMENT '收货完成时间',
  `receiver_id` int DEFAULT '0' COMMENT '收货人',
  `arrival_time` datetime COMMENT '到货时间',
  `arrival_id` int DEFAULT '0' COMMENT '到货人',
  `platform_rollback_sn` varchar DEFAULT '' COMMENT '三方系统单号，oms平台销退单号',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}' COMMENT='销退单'

# erp_wms_prod
CREATE TABLE `arrival_notice` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `notice_number` varchar NOT NULL DEFAULT '' COMMENT '到货通知单号',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `order_sn` varchar NOT NULL DEFAULT '' COMMENT '外部单号',
  `order_source` tinyint NOT NULL DEFAULT '1' COMMENT '[1]人工录入 [2]批量导入 [3]接口获取 [4]自动生成',
  `from_order_id` int NOT NULL DEFAULT '0' COMMENT '0 默认是到货通知单 没来源',
  `from_order_sn` varchar NOT NULL DEFAULT '' COMMENT '来源单号',
  `from_order_type` tinyint NOT NULL DEFAULT '1' COMMENT '订单来源 [1]采购入库 [2]调拨入库 [3]退货入库 [4]其他入库',
  `carrier` varchar DEFAULT '' COMMENT '承运商',
  `delivery_man` varchar NOT NULL DEFAULT '' COMMENT '送货人',
  `delivery_number` varchar NOT NULL DEFAULT '' COMMENT '运单号',
  `delivery_contact` varchar NOT NULL DEFAULT '' COMMENT '送货人联系方式',
  `kinds_num` int NOT NULL DEFAULT '0' COMMENT '品种数量',
  `goods_num` bigint NOT NULL DEFAULT '0' COMMENT '商品数量',
  `status` tinyint DEFAULT '10' COMMENT '状态[1]已取消 [10]已创建 [30]已到货 [35]收货中 [37]收货完成 [40]上架中 [50]已完成',
  `creator_id` int NOT NULL COMMENT '创建人ID',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `complete_time` datetime COMMENT '完成时间',
  `complete_id` int DEFAULT '0' COMMENT '完成人',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP,
  `plate_number` varchar DEFAULT '' COMMENT '车牌号',
  `unload_type` smallint DEFAULT '0' COMMENT '卸货方式  [1]仓库 [2]客户 [3]快递',
  `unload_start` datetime COMMENT '卸货开始时间',
  `unload_end` datetime COMMENT '卸货结束时间',
  `volume` bigint DEFAULT '0' COMMENT '体积 单位m3',
  `register_id` int DEFAULT '0' COMMENT '登记人',
  `register_time` datetime COMMENT '登记时间',
  `register_remark` varchar DEFAULT '' COMMENT '登记备注',
  `express_sns` varchar DEFAULT '' COMMENT '销退面单号',
  `container_type` smallint DEFAULT '0' COMMENT '到仓货物形式  [0]非货柜 [1]20英尺集装箱 [2]40英尺集装箱',
  `container_num` bigint DEFAULT '0' COMMENT '货柜数量',
  `is_container` smallint DEFAULT '0' COMMENT '是否按货柜卸货 [0]否[1]是',
  `container_detail` varchar DEFAULT '' COMMENT '货柜数量json[{\"id\":\"1\",\"num\":1}]',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `outbound_order` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `outbound_sn` varchar NOT NULL COMMENT '出库单号',
  `order_type` tinyint NOT NULL DEFAULT '4' COMMENT '出库类型[1]报损出库[2]调拨出库[3]订单支持出库[4]其它出库[5]退供出库',
  `status` tinyint DEFAULT '1' COMMENT '状态[0]取消[1]已创建[2]分配库存成功[3]分配库存失败[4]已出库[5]已完成',
  `seller_id` int NOT NULL DEFAULT '0' COMMENT '公司货主id',
  `warehouse_id` int NOT NULL DEFAULT '0' COMMENT '仓库id',
  `confirm_id` int NOT NULL DEFAULT '0' COMMENT '确认出库人id',
  `confirm_time` datetime COMMENT '确认时间',
  `volume` bigint NOT NULL DEFAULT '0' COMMENT '体积(单位:m³)，保留两位数取整',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `order_sn` varchar NOT NULL DEFAULT '' COMMENT '外部单号',
  `creator_id` int NOT NULL DEFAULT '0' COMMENT '创建人id',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `outbound_register` (
  `id` bigint AUTO_INCREMENT,
  `outbound_id` bigint DEFAULT '0' COMMENT '出库单主键id',
  `loader` smallint DEFAULT '0' COMMENT '装货方 [1]仓库[2]客户[3]快递',
  `start_time` datetime COMMENT '装货开始时间',
  `end_time` datetime COMMENT '装货结束时间',
  `volume` bigint DEFAULT '0' COMMENT '体积(单位:m³)，保留两位数取整',
  `remark` varchar DEFAULT '' COMMENT '备注',
  `carrier` varchar DEFAULT '' COMMENT '承运商',
  `delivery_number` varchar DEFAULT '' COMMENT '运单号',
  `picker` varchar DEFAULT '' COMMENT '提货人',
  `contact` varchar DEFAULT '' COMMENT '联系方式',
  `car_number` varchar DEFAULT '' COMMENT '车牌号',
  `creator_id` bigint DEFAULT '0' COMMENT '创建人id',
  `created` timestamp COMMENT '创建时间',
  `modified` timestamp COMMENT '更新时间',
  `container_type` smallint DEFAULT '0' COMMENT '到仓货物形式  [0]非货柜 [1]20英尺集装箱 [2]40英尺集装箱',
  `container_num` bigint DEFAULT '0' COMMENT '货柜数量',
  `goods_volume` bigint DEFAULT '0' COMMENT '商品总体积(单位:m³)，保留两位数取整',
  `is_container` smallint DEFAULT '0' COMMENT '是否按货柜卸货 [0]否[1]是',
  `container_detail` varchar DEFAULT '' COMMENT '货柜数量json[{\"id\":\"1\",\"num\":1}]',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}' COMMENT='出库登记表';

# erp_wms_prod
CREATE TABLE `location_inventory` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `inventory_sn` varchar NOT NULL COMMENT '盘点单号',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `seller_id` int NOT NULL COMMENT '货主ID',
  `kinds_num` int NOT NULL DEFAULT '0' COMMENT '商品种类数',
  `goods_order` varchar NOT NULL DEFAULT 'bar_code' COMMENT '排序规则：[bar_code]条形码 [name]商品名称',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `inventory_type` int COMMENT '盘点类型：[1010]动碰盘点 [1020]按库区盘点 [1030]按商品盘点 [1040]仓库全盘',
  `move_start` datetime COMMENT '动碰开始日期',
  `move_end` datetime COMMENT '动碰结束日期',
  `repository_id` int COMMENT '库区ID',
  `status` int NOT NULL DEFAULT '1010' COMMENT '[1000]已取消 [1010]待盘点 [1020]盘点中 [1030]已盘点',
  `completion_id` int COMMENT '完成人ID',
  `completion_time` datetime COMMENT '完成时间',
  `order_sn` varchar NOT NULL DEFAULT '' COMMENT '外部单号',
  `creator_id` int NOT NULL COMMENT '创建人ID',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP,
  `source_type` smallint DEFAULT '1' COMMENT '盘点来源[1]仓库[2]客户',
  `audit_status` smallint DEFAULT '1' COMMENT '审核状态[1]无需审核[5]未提交审核[10]待审核[15]审核不通过[20]审核通过',
  `reject_reason` varchar DEFAULT '' COMMENT '驳回原因',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `location_inventory_details` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `location_inventory_id` int NOT NULL COMMENT '盘点ID',
  `seller_goods_stock_id` int NOT NULL DEFAULT '0' COMMENT '商品库存ID',
  `seller_goods_id` int NOT NULL COMMENT '商品ID',
  `inventory_num` int NOT NULL DEFAULT '0' COMMENT '盘点前库存',
  `reality_num` int COMMENT '实盘数量',
  `difference` int COMMENT '差异数量(实盘数量—盘点前库存)',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `batch_id` int NOT NULL DEFAULT '0' COMMENT '批次id',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `in_warehouse_cost` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `seller_id` int NOT NULL,
  `in_out_log_id` bigint DEFAULT '0' COMMENT '出入库记录id',
  `from_order_id` bigint NOT NULL COMMENT '来源单号ID',
  `from_order_sn` varchar NOT NULL DEFAULT '' COMMENT '来源单号',
  `from_order_type` varchar NOT NULL DEFAULT '' COMMENT '来源单类型',
  `seller_goods_id` bigint NOT NULL,
  `warehouse_id` bigint NOT NULL,
  `total_number` bigint DEFAULT '0' COMMENT '总数量 实物库存+入库中',
  `reset_number` bigint NOT NULL DEFAULT '0' COMMENT '剩余数量',
  `preoccupied_number` bigint NOT NULL DEFAULT '0' COMMENT '预占位数量',
  `is_new_combo` tinyint NOT NULL DEFAULT '0' COMMENT '是否为加工品',
  `batch_no` varchar COMMENT '批次号',
  `shelf_life_days` bigint NOT NULL COMMENT '保质期天数',
  `repository_id` int NOT NULL DEFAULT '0' COMMENT '库区ID',
  `use_attribute` smallint NOT NULL COMMENT '库区类型',
  `location_id` int NOT NULL DEFAULT '0' COMMENT '货位ID',
  `production_date` date COMMENT '生产日期',
  `expire_date` date COMMENT '过期日期',
  `early_type` tinyint NOT NULL DEFAULT '1' COMMENT '临期类型 1正常 2预警 3过期',
  `in_warehouse_date` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '入库时间',
  `inventory_age` bigint NOT NULL DEFAULT '0' COMMENT '库龄(保留4位)',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP,
  `quality_status` tinyint DEFAULT '1' COMMENT '正残属性[1]正品[2]残品',
  `is_stop_sale` tinyint DEFAULT '0' COMMENT '是否禁售[0]否[1]是',
  `inbounding_number` bigint DEFAULT '0' COMMENT '入库中数量',
  `real_number` bigint DEFAULT '0' COMMENT '实物库存',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `repository` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar NOT NULL DEFAULT '',
  `warehouse_id` int NOT NULL COMMENT 'FK:warehouse id',
  `repository_code` varchar NOT NULL,
  `use_attribute` smallint NOT NULL DEFAULT '1' COMMENT '库区类型 [1]拣货区 [2]备货区 [3]退货区 [4]质检区 [5]残品区 [6]发货暂存区 [7]暂存/容器 [8]预打包成品区',
  `disabled` tinyint NOT NULL DEFAULT '0' COMMENT '0 enable;1 disabled',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP,
  `creator` int NOT NULL DEFAULT '0' COMMENT '创建人id',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `location` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `repository_id` int NOT NULL COMMENT '库区ID',
  `location_code` varchar NOT NULL COMMENT '货位编码',
  `disabled` tinyint NOT NULL DEFAULT '0' COMMENT '0 可用 1 禁用',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP,
  `location_order_num` int COMMENT '货位顺序号',
  `line` int NOT NULL DEFAULT '0' COMMENT '排',
  `group` int NOT NULL DEFAULT '0' COMMENT '组',
  `layer` int NOT NULL DEFAULT '0' COMMENT '层',
  `seat` int NOT NULL DEFAULT '0' COMMENT '位',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `max_volume` int NOT NULL DEFAULT '0' COMMENT '最大体积(单位:mm³)',
  `max_weight` int NOT NULL DEFAULT '0' COMMENT '最大承重(单位:g)',
  `length` int NOT NULL DEFAULT '0' COMMENT '长(单位:mm)',
  `width` int NOT NULL DEFAULT '0' COMMENT '宽(单位:mm)',
  `height` int NOT NULL DEFAULT '0' COMMENT '高(单位:mm)',
  `type` tinyint NOT NULL COMMENT '货位类型 [1]高位货架[2]矮层货架[3]地面堆垛',
  `used_state` smallint NOT NULL DEFAULT '2' COMMENT '使用状态 [1]占用 [2]空闲',
  `quality_status` tinyint NOT NULL DEFAULT '1' COMMENT '正残属性[1]正品[2]残品',
  `creator` int NOT NULL DEFAULT '0' COMMENT '创建人id',
  `fill_rate` bigint DEFAULT '0' COMMENT '货位填充率, 乘100存储',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';


CREATE TABLE `intercept_order` (
  `id` bigint AUTO_INCREMENT,
  `intercept_sn` varchar COMMENT '拦截单号',
  `warehouse_id` int COMMENT '仓库id',
  `seller_id` int COMMENT '客户id',
  `order_type` smallint DEFAULT '1' COMMENT '拦截类型[1]客户拦截[2]仓库拦截',
  `status` smallint DEFAULT '1' COMMENT '状态[1]已创建[5]待上架[10]上架完成',
  `reason` smallint DEFAULT '0' COMMENT '拦截原因[20]买家取消订单[21]其他仓库发货[22]收货地址变更[23]产品错误[24]平台已发货[25]平台取消',
  `from_order_type` int DEFAULT '1' COMMENT '来源单类型[1]发货单[2]出库单',
  `from_order_id` int COMMENT '来源单id',
  `from_order_sn` varchar COMMENT '来源单号',
  `from_platform_sn` varchar DEFAULT '' COMMENT '来源平台单号',
  `express_sn` varchar DEFAULT '' COMMENT '运单号',
  `kinds_num` int COMMENT '品种数',
  `goods_num` int COMMENT '商品件数',
  `location_id` int DEFAULT '0' COMMENT '暂存货位id',
  `clear_id` int DEFAULT '0' COMMENT '归位上架id',
  `complete_time` datetime COMMENT '完成时间',
  `creator_id` int DEFAULT '0' COMMENT '创建人id',
  `created` timestamp COMMENT '创建时间',
  `modified` timestamp COMMENT '更新时间',
  `from_order_status` int DEFAULT '0' COMMENT '来源单拦截时状态',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}' COMMENT='拦截归位单';

# erp_wms_prod
CREATE TABLE `seller` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar NOT NULL COMMENT '公司名字',
  `company_id` bigint NOT NULL DEFAULT '0' COMMENT '公司id',
  `seller_code` varchar,
  `mobile_phone` varchar NOT NULL DEFAULT '' COMMENT '电话号码',
  `default_warehouse` bigint NOT NULL DEFAULT '0' COMMENT '默认仓库',
  `relation_name` varchar NOT NULL DEFAULT '' COMMENT '真实姓名',
  `industry_category_id` int NOT NULL DEFAULT '0' COMMENT '行业id',
  `country` tinyint NOT NULL DEFAULT '0' COMMENT '国家',
  `local_timezone` varchar NOT NULL DEFAULT '+07:00',
  `currency` varchar NOT NULL DEFAULT 'Thailand-THB' COMMENT '币种',
  `creator` int NOT NULL COMMENT '创建人',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `disabled` tinyint DEFAULT '1' COMMENT '[0]启用状态  [1]禁用状态',
  `app_key` varchar COMMENT 'key',
  `app_secret` varchar NOT NULL DEFAULT '' COMMENT 'token',
  `billing_cycle` tinyint DEFAULT '4' COMMENT '账单周期 0 没选择 1 天 2 周 3 半月 4 月 5 季度 6 半年 7 年 ',
  `billing_period_day` smallint DEFAULT '1' COMMENT '出账日期 1-28 默认1',
  `account` varchar DEFAULT '' COMMENT '账号',
  `email` varchar DEFAULT '' COMMENT '邮箱',
  `oms_app_key` varchar DEFAULT '' COMMENT 'oms app_key',
  `oms_app_secret` varchar DEFAULT '' COMMENT 'oms app_secret',
  `upstream_system` tinyint DEFAULT '0' COMMENT '对接的上游系统 0无 [1 tts] [2 qimen]',
  `warehouse_token` varchar DEFAULT '' COMMENT '对接的上游系统 warehouse_token，tt认证仓使用',
  `label_with_sku` tinyint DEFAULT '0' COMMENT 'tt面单打印方式 0普通面单 1面单+sku',
  `labels` varchar DEFAULT '1' COMMENT '属性标签',
  `tax_id` varchar DEFAULT '' COMMENT '税号',
  `address` varchar DEFAULT '' COMMENT '详细地址',
  `oms_name` varchar DEFAULT '' COMMENT 'oms公司名称',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `delivery_order` ( 
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `delivery_sn` varchar NOT NULL DEFAULT '' COMMENT '发货单号',
  `order_sn` varchar NOT NULL DEFAULT '' COMMENT '外部平台单号',
  `out_delivery_sn` varchar NOT NULL DEFAULT '' COMMENT '外部发货单号',
  `warehouse_id` int NOT NULL DEFAULT '0' COMMENT '仓库主键ID',
  `is_smart` tinyint NOT NULL DEFAULT '1' COMMENT '[0]人工分仓 [1]智能分仓',
  `seller_id` int NOT NULL COMMENT '货主主键ID',
  `status` int COMMENT '订单状态[1007]已分仓[1010]缺货[2016]生成波次成功[2020]等待拣货[2030]拣货完成[2040]打包完成[2060]发货完成[3010]配送中[3020]已签收[3030]订单关闭',
  `type` tinyint NOT NULL DEFAULT '1' COMMENT '订单类型 [1]销售订单 [2]补货订单 [3]换货订单',
  `length` int NOT NULL DEFAULT '0' COMMENT '长(单位:mm)',
  `width` int NOT NULL DEFAULT '0' COMMENT '宽(单位:mm)',
  `height` int NOT NULL DEFAULT '0' COMMENT '高(单位:mm)',
  `volume` varchar DEFAULT '' COMMENT '体积(单位:mm³)',
  `total_weight` int NOT NULL DEFAULT '0' COMMENT '总重量(单位:克)',
  `logistic_company_id` int NOT NULL DEFAULT '0' COMMENT '物流公司ID',
  `express_name` varchar NOT NULL DEFAULT '' COMMENT '快递公司名称',
  `express_sn` varchar NOT NULL DEFAULT '' COMMENT '快递单号',
  `routes_status` tinyint NOT NULL DEFAULT '10' COMMENT '第三方物流状态 [10]创建',
  `consignee_name` varchar DEFAULT '' COMMENT '收货人',
  `countries` int NOT NULL DEFAULT '1' COMMENT '国家',
  `province` varchar NOT NULL DEFAULT '' COMMENT '省',
  `city` varchar NOT NULL DEFAULT '' COMMENT '市',
  `district` varchar NOT NULL DEFAULT '' COMMENT '区',
  `code` varchar NOT NULL DEFAULT '' COMMENT '编号',
  `postal_code` varchar NOT NULL DEFAULT '' COMMENT '邮编',
  `consignee_address` varchar NOT NULL DEFAULT '' COMMENT '详细地址',
  `phone_number` varchar NOT NULL DEFAULT '' COMMENT '电话号码',
  `comment` varchar DEFAULT '' COMMENT '留言',
  `buyer_message` varchar DEFAULT '' COMMENT '买家留言',
  `print_id` int NOT NULL DEFAULT '0' COMMENT '制单人ID',
  `is_printed` tinyint NOT NULL DEFAULT '0' COMMENT '已打印快递面单',
  `print_time` datetime COMMENT '打印日期',
  `cod_amount` int NOT NULL DEFAULT '0' COMMENT 'COD金额(单位:萨当)',
  `logistic_charge` bigint NOT NULL DEFAULT '0' COMMENT '运费',
  `insure_declare_value` int NOT NULL DEFAULT '0' COMMENT '保价金额',
  `kinds_num` int NOT NULL DEFAULT '0' COMMENT '品种数量',
  `goods_num` bigint NOT NULL DEFAULT '0' COMMENT '商品数量',
  `update_md5` varchar NOT NULL DEFAULT '' COMMENT '订单参数MD5',
  `pay_status` int NOT NULL DEFAULT '0' COMMENT '支付状态 [0]未支付 [1]已支付',
  `pay_mode` int NOT NULL DEFAULT '0' COMMENT '支付方式 [1]货到付款  [2]银行转账 [3]线上支付',
  `buy_time` datetime COMMENT '下单时间',
  `payment_time` datetime COMMENT '付款时间',
  `points_time` datetime COMMENT '分仓时间',
  `express_time` datetime COMMENT '获取电子面单时间',
  `wave_time` datetime COMMENT '生成波次时间',
  `wait_pick` datetime COMMENT '等待拣货时间',
  `start_pick` datetime COMMENT '开始拣货时间',
  `succ_pick` datetime COMMENT '完成拣货时间',
  `pack_time` datetime COMMENT '打包时间',
  `start_receipt` datetime COMMENT '开始交接',
  `delivery_time` timestamp COMMENT '发货时间',
  `lanShou_time` datetime COMMENT '揽收时间',
  `delivery_out_id` int NOT NULL DEFAULT '0' COMMENT '发货交接人',
  `confirm_time` timestamp COMMENT '完成时间',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `pick_stock` tinyint NOT NULL DEFAULT '0' COMMENT '是否在拣货过程扣减库存 默认不扣减 1提前扣减',
  `shipment_type` tinyint DEFAULT '0' COMMENT '发货类型 [0]平台快递发货[1]启用卖家自己发货(线下快递)[2]启用仓库发货[3]手动线下快递',
  `pick_type` tinyint DEFAULT '0' COMMENT '[1]一单一品一件且加工品 [2]一单一品多件 [4]一单多品 [6]一单一品一件且单品 [7]大宗订单',
  `package_id` varchar NOT NULL DEFAULT '' COMMENT '包裹号',
  `receipt_image` varchar NOT NULL DEFAULT '' COMMENT '交接图片',
  `is_express_label` smallint NOT NULL DEFAULT '0' COMMENT '有无面单文件',
  `print_file_type` smallint DEFAULT '1' COMMENT '打印文件类型 [1]pdf [2]html',
  `point_warehouse_ids` varchar DEFAULT '' COMMENT '指定仓库id',
  `shipment_screen` smallint DEFAULT '0' COMMENT '发货界面:[1]PC-发货单页面[2]PC-扫码发货页面[3]PDA[4]客户端-扫码发货页面',
  `platform_source_id` int DEFAULT '0' COMMENT '销售平台id',
  `total_price` decimal(20, 0) DEFAULT '0' COMMENT '订单金额',
  `full_express_name` varchar DEFAULT '' COMMENT '快递公司名称(全部)',
  `repository_id` int DEFAULT '0' COMMENT '发货单商品占用的第一个库区id',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `delivery_order_container` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `delivery_order_id` int NOT NULL COMMENT '发货单id',
  `container_id` int NOT NULL DEFAULT '0' COMMENT '包材id',
  `container_recommend_id` int NOT NULL DEFAULT '0' COMMENT '推荐包材id',
  `get_container_time` bigint NOT NULL DEFAULT '0' COMMENT '获取包材时间',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `container_use_billing_detail` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `company_id` int NOT NULL COMMENT '公司id',
  `seller_id` int NOT NULL COMMENT '客户id',
  `warehouse_id` int COMMENT '仓库ID',
  `sn` varchar DEFAULT '' COMMENT '包材使用费流水号',
  `billing_id` int DEFAULT '0' COMMENT '账单ID',
  `billing_sn` varchar DEFAULT '' COMMENT '账单单号',
  `order_sn` varchar DEFAULT '' COMMENT '订单号',
  `external_order_sn` varchar DEFAULT '' COMMENT '外部订单号',
  `date` date COMMENT '计费日期',
  `ji_fei_time` datetime COMMENT '计费时间（开始配送时间）',
  `ji_fei_time_type` tinyint NOT NULL DEFAULT '1' COMMENT '计费时间类型',
  `platform_source_id` int DEFAULT '0' COMMENT '销售平台 platform_source表ID',
  `billing_rule_id` int COMMENT '计费规则ID',
  `rule_detail` varchar,
  `num` int DEFAULT '0' COMMENT '包材个数',
  `price` decimal(13, 2) DEFAULT '0.00' COMMENT '包材单价',
  `container_id` int DEFAULT '0' COMMENT '包材ID',
  `base_amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '基础结算金额',
  `base_no_tax_amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '基础不含税结算金额',
  `base_contain_tax_amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '基础含税金额',
  `ladder_amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '阶梯结算金额',
  `amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '结算金额',
  `no_tax_amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '不含税结算金额',
  `contain_tax_amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '含税结算金额',
  `tax_rate` decimal(6, 2) DEFAULT '0.00' COMMENT '税率',
  `currency` varchar NOT NULL DEFAULT 'Thailand-THB' COMMENT '币种',
  `is_contain_tax` tinyint DEFAULT '1' COMMENT '是否含税 1 不含税 2 含税',
  `computing_formula_type` tinyint DEFAULT '1' COMMENT '计算公式 1 含税=不含税*（1-税率%）2 不含税=含税*（1-税率%）',
  `created` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `modified` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `actual_num` bigint DEFAULT '0' COMMENT '实际包材个数',
  `actual_price` decimal(13, 2) DEFAULT '0.00' COMMENT '实际包材单价',
  `actual_container_id` int DEFAULT '0' COMMENT '实际包材ID',
  `actual_base_amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '实际使用包材基础结算金额',
  `actual_base_no_tax_amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '实际使用包材基础不含税结算金额',
  `actual_base_contain_tax_amount` decimal(20, 9) DEFAULT '0.000000000' COMMENT '实际使用包材基础含税金额',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `container` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `attribute` smallint NOT NULL DEFAULT '1' COMMENT '包材属性 1库内加工 2出库包装',
  `type` smallint NOT NULL DEFAULT '1' COMMENT '包材类别 1 塑料袋 2 纸箱 3气泡膜 4拉伸膜 5其他',
  `seller_id` bigint NOT NULL DEFAULT '0' COMMENT 'seller_id',
  `warehouse_id` int NOT NULL COMMENT '仓库ID',
  `bar_code` varchar NOT NULL COMMENT '条形码',
  `name` varchar NOT NULL COMMENT '包材名称',
  `length` int DEFAULT '0' COMMENT '长mm',
  `width` bigint DEFAULT '0' COMMENT '宽mm',
  `height` bigint DEFAULT '0' COMMENT '高mm',
  `weight` bigint DEFAULT '0' COMMENT '重量(单位:克)',
  `volume` decimal(20, 0) NOT NULL DEFAULT '0' COMMENT '体积',
  `logistic_require` varchar COMMENT '物流特殊要求1危险品 2易碎品 3禁航品 4防潮 5防火 6保鲜品 7异形',
  `img` varchar DEFAULT '' COMMENT '图片地址',
  `status` smallint NOT NULL DEFAULT '1' COMMENT '[1]存盘 [2] 启用   [3] 停用默认【1】存盘',
  `consumables_category_id` bigint NOT NULL DEFAULT '0' COMMENT '消耗品分类id',
  `is_billing` smallint NOT NULL DEFAULT '1' COMMENT '是否计费 [0]否 [1]是',
  `purchase_unit` smallint NOT NULL DEFAULT '0' COMMENT '采购储存单位[1]卷[2]个[3]捆[4]包[5]桶',
  `stockout_unit` smallint NOT NULL DEFAULT '0' COMMENT '生产消耗单位[1]米[2]平米[3]克[4]千克[5]张[6]层[7]升[8]毫升',
  `unit_conversion` bigint NOT NULL DEFAULT '0' COMMENT '单位转换',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `external_code` varchar DEFAULT '' COMMENT '外部编码 bar_code 资产',
  `is_combo` smallint DEFAULT '0' COMMENT '是否加工 [0]否[1]是',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod
CREATE TABLE `seller_goods` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `seller_id` bigint NOT NULL DEFAULT '0' COMMENT '货主ID',
  `bar_code` varchar NOT NULL DEFAULT '' COMMENT '条形码',
  `goods_code` varchar NOT NULL DEFAULT '' COMMENT '商品货号',
  `name` varchar NOT NULL DEFAULT '' COMMENT '商品名称',
  `name_en` varchar NOT NULL DEFAULT '' COMMENT '商品英文名称',
  `name_zh` varchar NOT NULL DEFAULT '' COMMENT '中文名称',
  `is_new_combo` tinyint NOT NULL DEFAULT '0' COMMENT '是否加工品（新版套装）',
  `process_properties` smallint NOT NULL DEFAULT '0' COMMENT '加工属性 [1]物理加工[2]虚拟加工',
  `length` int NOT NULL DEFAULT '0' COMMENT '长(单位:mm)',
  `width` int NOT NULL DEFAULT '0' COMMENT '宽(单位:mm)',
  `height` int NOT NULL DEFAULT '0' COMMENT '高(单位:mm)',
  `volume` varchar NOT NULL DEFAULT '0' COMMENT '体积(单位:mm³)',
  `logistic_require` varchar NOT NULL DEFAULT '[]' COMMENT '特殊商品属性',
  `weight` int NOT NULL DEFAULT '0' COMMENT '重量  单位:g',
  `image` varchar COMMENT '图片',
  `specification` varchar NOT NULL DEFAULT '' COMMENT '规格',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `shelf_life_days` bigint NOT NULL DEFAULT '0' COMMENT '保质期天数',
  `status` tinyint NOT NULL DEFAULT '2' COMMENT '[0]删除 [1]停用 [2]存盘 [3]启用',
  `created_name` varchar NOT NULL DEFAULT '' COMMENT '创建人',
  `creator` bigint NOT NULL DEFAULT '0' COMMENT '创建人id',
  `created` timestamp DEFAULT CURRENT_TIMESTAMP,
  `enable_time` datetime COMMENT '启用时间（目前加工品使用）',
  `disable_time` datetime COMMENT '停用时间（目前加工品使用）',
  `modified` timestamp DEFAULT CURRENT_TIMESTAMP,
  `second_unit` smallint NOT NULL DEFAULT '2' COMMENT '二级单位[1]个[2]箱[3]组[4]包[5]份[6]件[7]打[8]托',
  `second_unit_conversion` bigint DEFAULT '0' COMMENT '二级单位转换(等于多少个)',
  `third_unit` smallint NOT NULL DEFAULT '0' COMMENT '三级单位[1]个[2]箱[3]组[4]包[5]份[6]件[7]打[8]托',
  `third_unit_conversion` bigint NOT NULL DEFAULT '0' COMMENT '三级单位转换(等于多少个)',
  `declared_value` bigint NOT NULL DEFAULT '0' COMMENT '声明价值',
  `combo_warehouse_id` int NOT NULL DEFAULT '0' COMMENT '虚拟加工品仓库',
  `is_shelf_life` smallint DEFAULT '0' COMMENT '是否保质期商品[0]未配置[1]是[2]否',
  `is_new_product` smallint DEFAULT '1' COMMENT '是否新品[0]否[1]是',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# erp_wms_prod 拦截单
CREATE TABLE `intercept_order` (
  `id` bigint AUTO_INCREMENT,
  `intercept_sn` varchar COMMENT '拦截单号',
  `warehouse_id` int COMMENT '仓库id',
  `seller_id` int COMMENT '客户id',
  `order_type` smallint DEFAULT '1' COMMENT '拦截类型[1]客户拦截[2]仓库拦截',
  `status` smallint DEFAULT '1' COMMENT '状态[1]已创建[5]待上架[10]上架完成',
  `reason` smallint DEFAULT '0' COMMENT '拦截原因[20]买家取消订单[21]其他仓库发货[22]收货地址变更[23]产品错误[24]平台已发货[25]平台取消',
  `from_order_type` int DEFAULT '1' COMMENT '来源单类型[1]发货单[2]出库单',
  `from_order_id` int COMMENT '来源单id',
  `from_order_sn` varchar COMMENT '来源单号',
  `from_platform_sn` varchar DEFAULT '' COMMENT '来源平台单号',
  `express_sn` varchar DEFAULT '' COMMENT '运单号',
  `kinds_num` int COMMENT '品种数',
  `goods_num` int COMMENT '商品件数',
  `location_id` int DEFAULT '0' COMMENT '暂存货位id',
  `clear_id` int DEFAULT '0' COMMENT '归位上架id',
  `complete_time` datetime COMMENT '完成时间',
  `creator_id` int DEFAULT '0' COMMENT '创建人id',
  `created` timestamp COMMENT '创建时间',
  `modified` timestamp COMMENT '更新时间',
  `from_order_status` int DEFAULT '0' COMMENT '来源单拦截时状态',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}' COMMENT='拦截归位单';

# erp_wms_prod 拦截单
CREATE TABLE `prompts` (
  `id` bigint AUTO_INCREMENT,
  `obj_id` int COMMENT '对应类型的主键ID',
  `warehouse_id` int COMMENT '仓库ID',
  `type` tinyint COMMENT '提示类型[1]发货单[2]发货单商品',
  `prompts` tinyint COMMENT '提示枚举',
  `created` timestamp COMMENT '创建时间',
  `modified` timestamp COMMENT '更新时间',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}' COMMENT='提示表'

############################################################################################################# erp_wms_prod #############################################################################################################
############################################################################################################# was #############################################################################################################
# was
CREATE TABLE `base_entity_slot` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键',
  `gmt_create` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `creator_id` decimal(20, 0) COMMENT '创建用户',
  `operator_id` decimal(20, 0) COMMENT '上一次更新用户',
  `park_id` decimal(20, 0) NOT NULL COMMENT '园区ID',
  `code` varchar NOT NULL COMMENT '货位编号',
  `slot_type` varchar COMMENT '货位类型（立库货位/AGV空间货位/AGV拣选货位）',
  `bucket_code` varchar NOT NULL COMMENT '货架编号',
  `short_code` varchar COMMENT '货位简码（面-层-列/格） -- 废弃',
  `width` int COMMENT '货位-长',
  `height` int COMMENT '货位-高',
  `depth` int COMMENT '货位-深度',
  `volume` int DEFAULT '0' COMMENT '体积',
  `row` int COMMENT '冗余货架排',
  `located_side` int COMMENT '货位所属-面',
  `located_column` int COMMENT '货位所属-列（原AGV格）',
  `located_layer` int COMMENT '货位所属-层',
  `located_depth` int COMMENT '货位所属-深',
  `priority` int DEFAULT '0' COMMENT '优先级',
  `harmful_flag` smallint COMMENT '是否毒害货位',
  `bearing` int COMMENT '最大承重kg',
  `reserve_flag` smallint DEFAULT '0' COMMENT '是否预留',
  `port_flag` smallint DEFAULT '0' COMMENT '是否是码头货位',
  `floor` varchar COMMENT '楼层',
  `direction` varchar COMMENT '码头方位（东西南北）',
  `relative_coords` varchar COMMENT '相对位置（点位code或者x-y-z-d）',
  `physical_coords` varchar COMMENT '物理位置(废弃)',
  `map_version` int NOT NULL DEFAULT '0' COMMENT '地图版本号',
  `enable_flag` smallint NOT NULL DEFAULT '1' COMMENT '启禁用状态',
  `remark` varchar COMMENT '中文描述',
  `del_flag` smallint NOT NULL DEFAULT '0' COMMENT '逻辑删除标志位',
  `feature` varchar COMMENT '拓展字段',
  `capacity` bigint COMMENT '深位，表示容纳容器的数目',
  `opr_area_group_code` varchar COMMENT '作业区组编码',
  `opr_area_code` varchar COMMENT '作业区编码',
  `roadway` int COMMENT '巷道（冗余货架）',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# was
CREATE TABLE `base_inventory` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键',
  `gmt_create` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `creator_id` bigint COMMENT '创建人',
  `operator_id` bigint COMMENT '操作人',
  `group_id` bigint NOT NULL COMMENT '业务实体',
  `opr_area_group_code` varchar NOT NULL COMMENT '作业区组',
  `opr_area_code` varchar NOT NULL COMMENT '作业区',
  `bucket_code` varchar NOT NULL COMMENT '货架编码，暂存区货位不关联货柜',
  `slot_code` varchar NOT NULL COMMENT '货位编码',
  `container_code` varchar NOT NULL COMMENT '容器编码',
  `owner_id` bigint NOT NULL COMMENT '货主id',
  `item_id` bigint NOT NULL COMMENT '商品id',
  `item_bar_code` varchar NOT NULL COMMENT '商品条码',
  `item_batch_id` varchar COMMENT '商品批次信息',
  `inventory_type` varchar NOT NULL COMMENT '库存类型',
  `inventory_status` varchar NOT NULL COMMENT '库存状态',
  `inventory_biz_status` varchar NOT NULL COMMENT '库存业务状态',
  `num` int NOT NULL DEFAULT '0' COMMENT '实物库存',
  `occupy_num` int NOT NULL DEFAULT '0' COMMENT '占用库存',
  `sys_version` int NOT NULL DEFAULT '0' COMMENT '版本',
  `production_date` datetime,
  `expire_date` datetime COMMENT '效期',
  `uk` varchar COMMENT '业务uk',
  `feature` varchar COMMENT '补充信息',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# was
CREATE TABLE `base_entity_bucket` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键',
  `gmt_create` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `creator_id` decimal(20, 0) COMMENT '创建用户',
  `operator_id` decimal(20, 0) COMMENT '上一次更新用户',
  `park_id` decimal(20, 0) NOT NULL COMMENT '园区ID',
  `code` varchar NOT NULL COMMENT '静态货位编码',
  `opr_area_code` varchar NOT NULL COMMENT '作业区code',
  `row` int COMMENT '排',
  `roadway` int COMMENT '巷道',
  `device_id` decimal(20, 0) COMMENT '设备id',
  `qr_code` varchar COMMENT '二维码',
  `is_harmful` smallint COMMENT '是否是有毒货柜（feature_type）',
  `bucket_struct_code` varchar COMMENT '货柜结构编码',
  `function_type` varchar COMMENT '货柜功能类型编码',
  `enable_flag` smallint NOT NULL DEFAULT '1' COMMENT '是否启用',
  `del_flag` smallint NOT NULL DEFAULT '0' COMMENT '逻辑删除标志位',
  `capacity` bigint COMMENT '深位，表示容纳容器的数目',
  `controller_code` varchar COMMENT '控制单元code',
  `opr_area_group_code` varchar COMMENT '作业区组code',
  `storage_type` varchar COMMENT '存储类型',
  `exception_flag` smallint COMMENT '是否异常',
  `forbid_work_model` varchar COMMENT '禁用部分工作模式（立库上架/下架）',
  `base_entity_bucketcol` varchar,
  `struct_type` varchar,
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# was
CREATE TABLE `base_entity_opr_area` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键',
  `gmt_create` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `creator_id` decimal(20, 0) COMMENT '创建用户',
  `operator_id` decimal(20, 0) COMMENT '上一次更新用户',
  `code` varchar NOT NULL COMMENT '编码',
  `name` varchar COMMENT '名称',
  `enable_flag` smallint NOT NULL DEFAULT '1' COMMENT '启禁用状态',
  `type` varchar COMMENT '类型',
  `status` varchar NOT NULL COMMENT '正残属性',
  `park_id` decimal(20, 0) NOT NULL COMMENT '园区ID',
  `usage_type` varchar COMMENT '用途（存储/周转/实操）',
  `opr_area_group_code` varchar COMMENT '工作区组',
  `del_flag` smallint NOT NULL DEFAULT '0' COMMENT '删除标记',
  `group_id_list` varchar COMMENT '关联业务实体列表',
  `location_remark` varchar COMMENT '位置备注',
  `warehouse_area_group_map` json COMMENT '库区组映射关系',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

#was
CREATE TABLE `base_entity_opr_area_group` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键',
  `gmt_create` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `creator_id` decimal(20, 0) COMMENT '创建用户',
  `operator_id` decimal(20, 0) COMMENT '上一次更新用户',
  `code` varchar NOT NULL COMMENT '编码',
  `name` varchar COMMENT '名称',
  `enable_flag` smallint NOT NULL DEFAULT '1' COMMENT '启禁用状态',
  `park_id` decimal(20, 0) NOT NULL COMMENT '园区ID',
  `del_flag` smallint NOT NULL DEFAULT '0' COMMENT '删除',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# was
CREATE TABLE `inb_receive_bill` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'id',
  `receive_no` varchar NOT NULL DEFAULT '' COMMENT '入库收货单编号',
  `receive_type` varchar NOT NULL DEFAULT '' COMMENT '入库单类型',
  `receive_external_no` varchar NOT NULL DEFAULT '' COMMENT '收货外部单号',
  `receive_external_type` varchar NOT NULL DEFAULT '' COMMENT '收货外部单类型（1:采购入库；3:退货入库；4:其他入库）',
  `channel_source` varchar NOT NULL DEFAULT '' COMMENT '渠道来源',
  `outer_id` bigint NOT NULL COMMENT '外部仓ID',
  `outer_name` varchar NOT NULL DEFAULT '' COMMENT '外部仓名称',
  `park_id` bigint COMMENT '园区ID',
  `group_id` bigint NOT NULL COMMENT '内部仓ID',
  `owner_id` bigint NOT NULL COMMENT '货主ID',
  `owner_code` varchar DEFAULT '' COMMENT '货主编码',
  `owner_name` varchar DEFAULT '' COMMENT '货主名称',
  `deliver_way` varchar NOT NULL DEFAULT '' COMMENT '承运方式',
  `carrier_code` varchar NOT NULL DEFAULT '' COMMENT '承运商编号',
  `supply_code` varchar NOT NULL DEFAULT '' COMMENT '供应商编号',
  `supply_name` varchar NOT NULL DEFAULT '' COMMENT '供应商名称',
  `company_code` varchar DEFAULT '' COMMENT '品牌编号',
  `delivery_person` varchar NOT NULL DEFAULT '' COMMENT '送货人',
  `plate_number` varchar NOT NULL DEFAULT '' COMMENT '车牌号',
  `transport_no` varchar NOT NULL DEFAULT '' COMMENT '运输单号',
  `delivery_contact` varchar NOT NULL DEFAULT '' COMMENT '送货联系方式',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '备注',
  `expected_arrive_start_date` timestamp COMMENT '预计到货开始时间',
  `expected_arrive_end_date` timestamp COMMENT '预计到货结束时间',
  `appointment_date` timestamp COMMENT '预约日期',
  `created_date` timestamp COMMENT '建单日期',
  `arrived_date` timestamp COMMENT '到货日期',
  `receive_person` varchar NOT NULL DEFAULT '' COMMENT '收货人',
  `receive_date` timestamp COMMENT '实际收货日期',
  `finish_date` timestamp COMMENT '收货完成时间',
  `canceled_date` timestamp COMMENT '取消日期',
  `priority` varchar NOT NULL DEFAULT '0' COMMENT '优先级',
  `total_sku_qty` decimal(19, 2) NOT NULL COMMENT '总品类数量',
  `total_qty` decimal(19, 2) NOT NULL COMMENT '总件数',
  `actual_putaway_qty` decimal(19, 2) NOT NULL DEFAULT '0.00' COMMENT '实际上架数量',
  `putaway_qty` decimal(19, 2) NOT NULL DEFAULT '0.00' COMMENT '上架数量',
  `actual_receive_sku_qty` decimal(19, 2) NOT NULL DEFAULT '0.00' COMMENT '实际收货品类',
  `actual_receive_qty` decimal(19, 2) NOT NULL DEFAULT '0.00' COMMENT '实际收货件数',
  `bill_status` int NOT NULL DEFAULT '0' COMMENT '单据状态',
  `receive_status` int NOT NULL DEFAULT '0' COMMENT '收货状态',
  `puton_status` int NOT NULL DEFAULT '0' COMMENT '上架状态',
  `return_status` int NOT NULL DEFAULT '0' COMMENT '回传状态',
  `create_time` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  `is_deleted` tinyint NOT NULL DEFAULT '0' COMMENT '删除标识：0.正常 1.删除',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}'

############################################################################################################# was #############################################################################################################
############################################################################################################# oa_production #############################################################################################################

# oa_production
CREATE TABLE `ordinary_payment` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `apply_no` varchar NOT NULL DEFAULT '' COMMENT '付款申请编号',
  `create_id` int NOT NULL COMMENT '发起人工号',
  `create_name` varchar NOT NULL COMMENT '发起人姓名',
  `create_node_department_id` int NOT NULL COMMENT '发起人部门id',
  `create_node_department_name` varchar NOT NULL COMMENT '发起人部门名字',
  `create_company_id` bigint NOT NULL DEFAULT '0' COMMENT '发起人-所属公司ID',
  `create_company_name` varchar NOT NULL DEFAULT '' COMMENT '发起人公司名字',
  `apply_id` int NOT NULL COMMENT '申请人id',
  `apply_name` varchar NOT NULL COMMENT '申请人姓名',
  `apply_sys_department_id` bigint NOT NULL COMMENT '申请人一级部门ID',
  `apply_node_department_id` int NOT NULL COMMENT '申请人部门id',
  `apply_node_department_name` varchar NOT NULL COMMENT '申请人部门名字',
  `apply_company_id` bigint NOT NULL DEFAULT '0' COMMENT '申请人-所属公司ID',
  `apply_company_name` varchar NOT NULL DEFAULT '' COMMENT '申请人公司名字',
  `apply_store_id` varchar NOT NULL COMMENT '申请人所属网点id',
  `apply_store_name` varchar NOT NULL COMMENT '申请人所属网点名字',
  `apply_mobile` varchar NOT NULL DEFAULT '' COMMENT '申请人电话',
  `cost_department_id` int NOT NULL DEFAULT '0' COMMENT '费用所属部门ID',
  `cost_department_name` varchar NOT NULL DEFAULT '' COMMENT '费用所属部门name',
  `cost_store_type` smallint NOT NULL DEFAULT '1' COMMENT '1 :总部,2:网点',
  `payment_method` smallint NOT NULL DEFAULT '2' COMMENT '付款方式：2-银行转账(默认); 3-支票',
  `currency` smallint NOT NULL DEFAULT '1' COMMENT '付款币种: 1-泰铢(默认); 2-美元; 3-人民币;',
  `exchange_rate` decimal(11, 5) NOT NULL DEFAULT '0.00000' COMMENT '当前币种对应默认币种的汇率',
  `should_pay_date` date COMMENT '应付日期',
  `remark` varchar NOT NULL DEFAULT '' COMMENT '费用信息-备注',
  `amount_total_no_tax` decimal(13, 2) NOT NULL COMMENT '不含税金额总计金额总计',
  `amount_total_vat` decimal(13, 2) NOT NULL COMMENT 'VAT金额总计',
  `amount_total_wht` decimal(13, 2) NOT NULL COMMENT 'WHT金额总计',
  `amount_discount` decimal(13, 2) NOT NULL COMMENT '折扣金额',
  `amount_total_have_tax` decimal(13, 2) NOT NULL COMMENT '含税金额总计',
  `amount_total_actually` decimal(13, 2) NOT NULL COMMENT '金额详情-实付金额总计',
  `approval_status` smallint DEFAULT '1' COMMENT '审核状态: 1-待审核; 2-已驳回; 3-已通过; 4-已撤回',
  `pay_status` smallint DEFAULT '1' COMMENT '支付状态：1-待支付; 2-已支付; 3-未支付',
  `cancel_reason` varchar DEFAULT '' COMMENT '撤销原因',
  `refuse_reason` varchar DEFAULT '' COMMENT '驳回原因',
  `cancel_at` datetime COMMENT '撤销时间',
  `approved_at` datetime COMMENT '审核通过时间',
  `rejected_at` datetime COMMENT '审核驳回时间',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  `is_after_ap_th` tinyint DEFAULT '0' COMMENT '是否过了AP(泰国),包括，1是，0不是',
  `pay_type` tinyint NOT NULL DEFAULT '0' COMMENT '普通付款类型，0其他，1是探亲费或团建费',
  `payee_type` tinyint NOT NULL DEFAULT '1' COMMENT '收款人类型1供应商2个人',
  `amount_total` decimal(13, 2) NOT NULL DEFAULT '0.00' COMMENT '总金额',
  `cost_company_id` int NOT NULL DEFAULT '0' COMMENT ' 费用所属公司',
  `extra_message` varchar NOT NULL DEFAULT '' COMMENT '额外参考消息 ',
  `voucher_abstract` varchar NOT NULL DEFAULT '' COMMENT '凭证摘要 ',
  `swift_code` varchar DEFAULT '' COMMENT 'Swift Code',
  `pay_where` smallint NOT NULL DEFAULT '1' COMMENT '0空，1境内支付，2境外支付',
  `ticket_number` varchar NOT NULL DEFAULT '' COMMENT '发票号码 ',
  `ticket_date` datetime COMMENT '发票日期',
  `ver` smallint NOT NULL DEFAULT '0' COMMENT '0历史数据1现版本',
  `loan_time` varchar NOT NULL DEFAULT '' COMMENT '付款条款',
  `sync_sap` tinyint DEFAULT '0' COMMENT '0未同步1同步成功2同步失败3同步重试',
  `sap_uuid` varchar COMMENT 'sap uuid',
  `sap_note` varchar DEFAULT '' COMMENT 'sap同步失败原因',
  `is_supplement_invoice` tinyint DEFAULT '0' COMMENT '先款后票且需要补充发票，0:默认，1:是，2:否',
  `supplement_file_change_date` datetime COMMENT '修改为需要补充发票的时间',
  `apply_email` varchar DEFAULT '' COMMENT '申请人邮箱',
  `invoice_no` varchar DEFAULT '' COMMENT '增值税发票号',
  `is_pay_module` tinyint DEFAULT '0' COMMENT '是否进入了支付模块(开启支付模块后会进入支付模块) 0.否 1.是',
  `business_type` tinyint DEFAULT '0' COMMENT '业务类型  v13442新增  1.经营类 2.行政类 ',
  `invoice_type` smallint DEFAULT '0' COMMENT '发票类型：0-无(默认); 1-Official Receipt; 2-Sales Invoice;',
  `is_with_vat_invoice` smallint DEFAULT '0' COMMENT '是否有增值税票: 0-默认空/未填写过；1-否；2-是',
  `is_factoring` tinyint DEFAULT '0' COMMENT '是否保理付款：0-默认空/未选择过，1否，2是',
  `factoring_vendor_id` varchar DEFAULT '' COMMENT '保理对象（供应商编号）',
  `factoring_vendor_name` varchar DEFAULT '' COMMENT '保理对象（供应商名称）',
  `factoring_apply_no` varchar DEFAULT '' COMMENT '关联保理付款单号(保理付款对应的普通付款单号)',
  `factoring_payment_peroid_num` tinyint DEFAULT '0' COMMENT '保理付款期次',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# oa_production
CREATE TABLE `budget_object` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键',
  `level` smallint NOT NULL DEFAULT '1' COMMENT '科目层级 1为顶层',
  `level_code` varchar NOT NULL DEFAULT '' COMMENT '层级code 每层三位数 例子：001023 第二层23号目录',
  `is_end` tinyint NOT NULL DEFAULT '0' COMMENT '是否跟节点 0 不是 1 是',
  `name_th` varchar NOT NULL DEFAULT '' COMMENT '',
  `name_en` varchar NOT NULL DEFAULT '' COMMENT '英文文件夹名称',
  `name_cn` varchar NOT NULL DEFAULT '' COMMENT '中文文件夹名称',
  `budget_account` varchar NOT NULL DEFAULT '' COMMENT '核算科目编号',
  `budget_description` varchar NOT NULL DEFAULT '' COMMENT '核算科目描述',
  `sort` smallint NOT NULL DEFAULT '0' COMMENT '排序',
  `operate_id` bigint NOT NULL DEFAULT '0' COMMENT '配置人工号',
  `update_id` bigint NOT NULL DEFAULT '0' COMMENT '最后修改人',
  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `is_delete` tinyint NOT NULL DEFAULT '0' COMMENT '删除',
  `template_type` tinyint NOT NULL DEFAULT '0' COMMENT '0 无模板  1 报销外协',
  `bar_code` tinyint DEFAULT '0' COMMENT '是否必选bar code 0否1是',
  `is_budget` tinyint DEFAULT '1' COMMENT '是否参与预算管控0不1是',
  `effective_year` varchar DEFAULT '' COMMENT '生效年份',
  `expiration_year` varchar DEFAULT '' COMMENT '失效年份',
  `is_purchase` tinyint DEFAULT '1' COMMENT '是否采购使用:1否，2是',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# oa_production
CREATE TABLE `reimbursement` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `no` varchar COMMENT '编号',
  `start_at` date COMMENT '报销开始时间',
  `end_at` date COMMENT '报销结束时间',
  `created_id` int COMMENT '发起人工号',
  `created_name` varchar COMMENT '发起人姓名',
  `created_department_id` int COMMENT '发起人部门id',
  `created_department_name` varchar COMMENT '发起人部门名字',
  `created_company_name` varchar COMMENT '发起人公司名字',
  `apply_id` int COMMENT '申请人id',
  `apply_name` varchar COMMENT '申请人姓名',
  `apply_department_id` int COMMENT '申请人部门id',
  `apply_department_name` varchar COMMENT '申请人部门名字',
  `apply_company_name` varchar COMMENT '申请人公司名字',
  `apply_center_code` varchar COMMENT '申请人所属中心',
  `apply_store_id` varchar COMMENT '申请人所属网点id',
  `apply_store_name` varchar COMMENT '申请人所属网点名字',
  `cost_department` int NOT NULL DEFAULT '0' COMMENT '费用部门ID',
  `cost_department_name` varchar NOT NULL DEFAULT '' COMMENT '费用部门name',
  `cost_sys_department` int NOT NULL DEFAULT '0' COMMENT '费用一级部门ID',
  `cost_store` varchar NOT NULL DEFAULT '' COMMENT '费用网点ID',
  `cost_store_type` smallint NOT NULL DEFAULT '0' COMMENT '1 网点 2 总部',
  `cost_store_name` varchar NOT NULL DEFAULT '' COMMENT '费用网点名称',
  `cost_center_code` varchar NOT NULL DEFAULT '' COMMENT '费用中心code',
  `cost_company_id` int NOT NULL DEFAULT '0' COMMENT '费用所属公司',
  `extra_message` varchar DEFAULT '' COMMENT '额外参考消息',
  `voucher_abstract` varchar COMMENT '凭证摘要',
  `sys_department_id` varchar COMMENT '申请人一级部门ID（审批用）',
  `node_department_id` varchar COMMENT '申请人二级部门ID（审批用）',
  `apply_mobile` varchar COMMENT '申请人-个人号码',
  `pay_bank_id` tinyint DEFAULT '1' COMMENT '付款银行id',
  `pay_bank_name` varchar DEFAULT 'Thai Military Bank' COMMENT '付款银行名字',
  `pay_bank_account` varchar DEFAULT '0541065314' COMMENT '付款银行账号',
  `currency` tinyint DEFAULT '1' COMMENT '币种，1泰元，2美元，3人民币，暂时只有1',
  `exchange_rate` decimal(11, 5) NOT NULL DEFAULT '0.00000' COMMENT '当前币种对应默认币种的汇率',
  `bank_name` varchar COMMENT '收款人户名',
  `bank_account` varchar COMMENT '收款人账号',
  `bank_type` varchar COMMENT '收款人开户银行',
  `travel_amount` bigint COMMENT '出差总金额',
  `local_amount` bigint COMMENT '本地总金额',
  `amount` bigint COMMENT '含税金额总计 更改为:发票金额总计（含VAT含WHT）',
  `loan_amount` bigint COMMENT '冲减借款金额',
  `other_amount` bigint COMMENT '其他冲减金额',
  `real_amount` bigint COMMENT '实付金额 更改为:实付金额总计',
  `payable_amount_all` bigint COMMENT '应付金额总计（含VAT不含WHT）',
  `status` tinyint DEFAULT '1' COMMENT '审核状态-1待审核，2驳回，3同意，4撤回',
  `pay_status` tinyint DEFAULT '1' COMMENT '支付状态-1待支付，2已支付，3未支付',
  `apply_date` date COMMENT '申请日期，创建时间的Y-m-d',
  `approved_at` datetime COMMENT '审批通过日期',
  `created_at` datetime COMMENT '创建时间',
  `updated_at` datetime COMMENT '修改时间',
  `payer_id` int COMMENT '付款操作人ID',
  `pay_at` datetime COMMENT '付款时间',
  `type` tinyint DEFAULT '0' COMMENT '报销类型，0其他，1是探亲费或团建费',
  `pay_from` tinyint DEFAULT '1' COMMENT '付款来源，1本模块，2银行流水',
  `remark` varchar COMMENT '备注（拒绝原因，撤回原因）',
  `country_code` varchar DEFAULT '' COMMENT '费用报销国家',
  `is_after_ap_th` tinyint DEFAULT '0' COMMENT '是否过了AP(泰国),包括，1是，0不是',
  `source_type` tinyint NOT NULL DEFAULT '1' COMMENT '入口来源 1 oa 2 by（油费报销）',
  `sync_sap` tinyint DEFAULT '0' COMMENT '0未同步1同步成功2同步失败3同步重试',
  `sap_uuid` varchar COMMENT 'sap uuid',
  `apply_job_title_grade` tinyint DEFAULT '0' COMMENT '申请人职级',
  `apply_job_title_id` int DEFAULT '0' COMMENT '申请人职位ID',
  `apply_job_title_name` varchar DEFAULT '' COMMENT '申请人职位名称',
  `sap_note` varchar DEFAULT '' COMMENT 'sap 返回失败原因',
  `is_supplement_invoice` tinyint DEFAULT '0' COMMENT '先款后票且需要补充发票，0:默认，1:是，2:否',
  `supplement_file_change_date` datetime COMMENT '修改为需要补充发票的时间',
  `is_pay_module` tinyint DEFAULT '0' COMMENT '是否进入了支付模块(开启支付模块后会进入支付模块) 0.否 1.是',
  `pay_operate_date` datetime COMMENT '付款操作时间',
  `business_type` tinyint DEFAULT '0' COMMENT '业务类型  v13442新增  1.经营类 2.行政类 ',
  `invoice_header_name` varchar DEFAULT '' COMMENT '发票抬头名称, 历史数据为空',
  `invoice_header_is_same` smallint DEFAULT '0' COMMENT '发票抬头对应公司 与 费用所属公司是否一致: 0历史数据; 1一致; 2不一致',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

# oa_production
CREATE TABLE `reimbursement_detail` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `re_id` int COMMENT '报销id',
  `category_a` tinyint COMMENT '报销分类1差旅，2本地',
  `category_b` int COMMENT '费用明细',
  `budget_id` bigint NOT NULL DEFAULT '0' COMMENT '科目ID',
  `level_code` varchar NOT NULL DEFAULT '' COMMENT '末级科目code',
  `ledger_account_id` int DEFAULT '0' COMMENT '核算科目id',
  `product_id` int NOT NULL DEFAULT '0' COMMENT '产品id（为0的时候，是其他）',
  `product_name` varchar NOT NULL DEFAULT '' COMMENT '产品名称',
  `info` varchar COMMENT '报销说明',
  `tax` bigint COMMENT '税额 更改为:VAT税额',
  `tax_not` bigint COMMENT '不含税金额 更改为:发票金额（不含VAT含WHT）',
  `amount` bigint COMMENT '含税金额 更改为:发票金额（含VAT含WHT）',
  `rate` float COMMENT '税率，tax/tax_not 更改为:VAT税率',
  `wht_type` int NOT NULL DEFAULT '0' COMMENT 'WHT类别',
  `wht_tax` varchar COMMENT 'WHT税率 存储枚举值',
  `wht_tax_amount` bigint COMMENT 'WHT税额',
  `deductible_vat_tax` varchar COMMENT '可抵扣VAT税率 存储枚举值',
  `deductible_tax_amount` bigint COMMENT '可抵扣税额',
  `payable_amount` bigint COMMENT '应付金额（含VAT不含WHT）',
  `invoices_ids` varchar COMMENT '发票编号',
  `travel_id` int COMMENT '差旅-出差申请批号',
  `travel_serial_no` varchar COMMENT '差旅-序列号',
  `travel_start_at` varchar COMMENT '差旅-开始时间',
  `travel_end_at` varchar COMMENT '差旅-结束时间',
  `travel_start` varchar COMMENT '差旅-出发城市',
  `travel_end` varchar COMMENT '差旅-目的城市',
  `fuel_start` varchar COMMENT '油费-起点',
  `fuel_end` varchar COMMENT '油费-终点',
  `fuel_mileage` bigint COMMENT '油费-里程',
  `cost_store_id` varchar COMMENT '饮水费&水电费-费用网点id',
  `cost_store_name` varchar COMMENT '饮水费&水电费-费用网点name',
  `cost_store_n_id` varchar DEFAULT '' COMMENT '费用所属网点id',
  `cost_store_n_name` varchar DEFAULT '' COMMENT '费用所属网点名字',
  `cost_center_code` varchar DEFAULT '' COMMENT '费用所属中心',
  `start_at` varchar DEFAULT '' COMMENT '费用发生开始时间',
  `end_at` varchar DEFAULT '' COMMENT '费用发生结束时间',
  `is_deduct` tinyint DEFAULT '0' COMMENT '银行流水-是否可抵扣确认',
  `serial_no` varchar COMMENT '外协--审批编号',
  `applicant_staff_name` varchar DEFAULT '' COMMENT '外协--工作订单申请人',
  `sys_store_name` varchar DEFAULT '' COMMENT '外协--所属网点',
  `final_audit_num` int COMMENT '外协--雇佣人数',
  `employment_days` int COMMENT '外协--雇佣天数',
  `invoice_tax_no` varchar NOT NULL DEFAULT '' COMMENT '发票税务号',
  `enterprise_name` varchar NOT NULL DEFAULT '' COMMENT '企业名称',
  `voucher_description` varchar COMMENT '凭证描述',
  `meal_allowance_amount` bigint DEFAULT '0' COMMENT '餐补的额度',
  `meal_allowance_currency` tinyint DEFAULT '1' COMMENT '餐补额度币种',
  `days_num` int DEFAULT '1' COMMENT '出差天数',
  `ticket_type` tinyint DEFAULT '2' COMMENT '发票种类: 1-电子发票; 2-纸质发票;',
  `invoice_type` smallint NOT NULL DEFAULT '0' COMMENT '发票类型：0-无(默认); 1-Official Receipt; 2-Sales Invoice;',
  `is_ticket_no_exist` tinyint DEFAULT '1' COMMENT '发票编号是否存在 0：不存在，1：存在',
  `is_with_vat_invoice` smallint NOT NULL DEFAULT '0' COMMENT '是否有增值税票: 0-默认空/未填写过；1-否；2-是',
  `invoice_no` varchar NOT NULL DEFAULT '' COMMENT '增值税发票号',
  `company_addr` varchar NOT NULL DEFAULT '' COMMENT '公司地址',
  `support_serial_no` varchar NOT NULL DEFAULT '' COMMENT '支援费用-申请编号',
  `support_job_title_id` int NOT NULL DEFAULT '0' COMMENT '支援费用-申请职位id',
  `support_job_title_name` varchar NOT NULL DEFAULT '' COMMENT '支援费用-申请职位名称',
  `support_store_id` varchar NOT NULL DEFAULT '' COMMENT '支援费用-申请网点id',
  `support_store_name` varchar NOT NULL DEFAULT '' COMMENT '支援费用-申请网点名称',
  `support_employment_begin_date` date COMMENT '支援费用-支援开始时间',
  `support_employment_end_date` date COMMENT '支援费用-支援结束时间',
  `support_employment_days` int NOT NULL DEFAULT '0' COMMENT '支援费用-工作天数',
  `is_fine` tinyint NOT NULL DEFAULT '0' COMMENT '是否有罚金0没有1有',
  `travel_days_num` int DEFAULT '0' COMMENT '差旅-出差天数',
  `travel_business_trip_type` tinyint DEFAULT '0' COMMENT '差旅-出差类型0初始值，3国内出差、4国外出差',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}';

CREATE TABLE `ordinary_payment_detail` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '',
  `ordinary_payment_id` bigint NOT NULL COMMENT '普通付款主表id',
  `cost_category` smallint NOT NULL DEFAULT '0' COMMENT '付款分类',
  `cost_category_child` smallint NOT NULL DEFAULT '0' COMMENT '费用类型（付款分类子类型）',
  `budget_id` bigint NOT NULL DEFAULT '0' COMMENT '科目ID（付款分类）',
  `level_code` varchar NOT NULL DEFAULT '' COMMENT '科目层级code',
  `ledger_account_id` int DEFAULT '0' COMMENT '核算科目id',
  `product_id` int NOT NULL DEFAULT '0' COMMENT '费用类型id（商品ID）',
  `cost_start_date` date COMMENT '费用发生日期',
  `cost_end_date` date COMMENT '费用结束日期',
  `amount_no_tax` decimal(12, 2) NOT NULL DEFAULT '0.00' COMMENT '不含税金额',
  `amount_vat` decimal(12, 2) NOT NULL DEFAULT '0.00' COMMENT 'vat 金额 （不含税金额的7%）',
  `amount_have_tax` decimal(12, 2) NOT NULL DEFAULT '0.00' COMMENT '含税金额 = 不含税金额+vat金额',
  `wht_category` smallint NOT NULL DEFAULT '0' COMMENT 'WHT类别：0-/, 1-PND3, 2-PND53',
  `wht_rate` float NOT NULL DEFAULT '0.0' COMMENT 'WHT税率：支持小数(0-100), 单位 %',
  `amount_wht` decimal(12, 2) NOT NULL DEFAULT '0.00' COMMENT 'WHT金额，WHT金额=不含税金额*WHT税率',
  `cost_store_id` bigint NOT NULL DEFAULT '0' COMMENT '费用所属网点ID（若基本信息中费用所属网点类型为：总部，则该字段值存储-1）',
  `cost_store_name` varchar NOT NULL DEFAULT '' COMMENT '费用所属网点名称（若cost_store_id = -1,则该字段职位 Header office）',
  `cost_center_name` varchar NOT NULL DEFAULT '' COMMENT '费用-所属中心(pc_code)',
  `contract_no` varchar NOT NULL DEFAULT '' COMMENT '合同编号',
  `is_deduct` tinyint DEFAULT '0' COMMENT '银行流水-是否可抵扣确认',
  `voucher_description` varchar NOT NULL DEFAULT '' COMMENT '凭证描述',
  `deductible_vat_tax` varchar NOT NULL DEFAULT '' COMMENT '可抵扣VAT税率',
  `deductible_tax_amount` bigint DEFAULT '0' COMMENT '可抵扣税额',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '',
  `vat_rate` float NOT NULL DEFAULT '0.0' COMMENT 'VAT税率',
  `finance_category_id` int NOT NULL DEFAULT '0' COMMENT '财务分类id',
  `pono` varchar DEFAULT '' COMMENT '采购订单编号',
  PRIMARY KEY (`id`)
) DISTRIBUTE BY HASH(`id`) INDEX_ALL='Y' STORAGE_POLICY='HOT' ENGINE='XUANWU' TABLE_PROPERTIES='{"format":"columnstore"}'